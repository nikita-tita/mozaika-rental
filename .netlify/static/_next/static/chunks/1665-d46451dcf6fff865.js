"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1665],{41665:(e,l,t)=>{t.d(l,{nD:()=>eu,N6:()=>I,h0:()=>er,a:()=>B,Pd:()=>v,zk:()=>h,FN:()=>u,Q1:()=>L,V$:()=>m,ts:()=>Z,ih:()=>z,_J:()=>H,QZ:()=>p,H1:()=>g,TW:()=>ei,wQ:()=>O,Ps:()=>E,rI:()=>R,RH:()=>P,I0:()=>S,qB:()=>F,Tl:()=>D,RE:()=>T,JH:()=>x});var a=t(95155),i=t(12115),r=t(69074),s=t(54416),n=t(42355),o=t(13052);function u(e){let{value:l,onChange:t,placeholder:u="Выберите дату",className:c="",showRange:d=!1,onRangeChange:p,minDate:b,maxDate:g,autoFillRange:x=!1}=e,[h,f]=(0,i.useState)(!1),[y,j]=(0,i.useState)(new Date),[w,N]=(0,i.useState)(null),[C,k]=(0,i.useState)({start:null,end:null}),[A,L]=(0,i.useState)(null),M=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(l){let e=new Date(l);isNaN(e.getTime())||(N(e),j(new Date(e.getFullYear(),e.getMonth(),1)))}},[l]),(0,i.useEffect)(()=>{if(x&&C.start&&!C.end){let e=new Date(C.start);e.setMonth(e.getMonth()+11),k({start:C.start,end:e}),p&&p({start:C.start,end:e})}},[C.start,x,p]),(0,i.useEffect)(()=>{let e=e=>{M.current&&!M.current.contains(e.target)&&f(!1)};return h&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[h]);let z=e=>e.toISOString().split("T")[0],E=e=>!!b&&!!(e<b)||!!g&&!!(e>g),S=e=>{let l=new Date,t=new Date(l);t.setMonth(t.getMonth()+e),k({start:l,end:t}),p&&p({start:l,end:t})},R=(e=>{let l=e.getFullYear(),t=e.getMonth(),a=new Date(l,t,1),i=new Date(l,t+1,0).getDate(),r=a.getDay(),s=[];for(let e=0;e<r;e++)s.push(null);for(let e=1;e<=i;e++)s.push(new Date(l,t,e));return s})(y),D=d?C.start&&C.end?"".concat(z(C.start)," - ").concat(z(C.end)):C.start?"".concat(z(C.start)," - ..."):u:w?z(w):u;return(0,a.jsxs)("div",{className:"relative ".concat(c),ref:M,children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m,{value:D,onChange:()=>{},placeholder:u,onClick:()=>f(!h),className:"cursor-pointer",readOnly:!0}),(0,a.jsx)(r.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),w||C.start||C.end?(0,a.jsx)("button",{onClick:()=>{N(null),k({start:null,end:null}),t(""),p&&p({start:null,end:null})},className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(s.A,{className:"h-4 w-4"})}):null]}),h&&(0,a.jsxs)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[320px]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,a.jsx)("button",{onClick:()=>j(new Date(y.getFullYear(),y.getMonth()-1)),className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(n.A,{className:"h-4 w-4"})}),(0,a.jsxs)("h3",{className:"text-sm font-medium",children:[["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"][y.getMonth()]," ",y.getFullYear()]}),(0,a.jsx)("button",{onClick:()=>j(new Date(y.getFullYear(),y.getMonth()+1)),className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})]}),d&&(0,a.jsx)("div",{className:"p-3 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsx)(v,{size:"sm",variant:"outline",onClick:()=>S(1),children:"1 месяц"}),(0,a.jsx)(v,{size:"sm",variant:"outline",onClick:()=>S(3),children:"3 месяца"}),(0,a.jsx)(v,{size:"sm",variant:"outline",onClick:()=>S(6),children:"6 месяцев"}),(0,a.jsx)(v,{size:"sm",variant:"outline",onClick:()=>S(11),children:"11 месяцев"})]})}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"].map(e=>(0,a.jsx)("div",{className:"bg-gray-50 p-2 text-center text-xs font-medium text-gray-500",children:e},e))}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:R.map((e,l)=>(0,a.jsx)("div",{className:"bg-white p-2 text-center text-sm cursor-pointer hover:bg-blue-50 transition-colors ".concat(e?E(e)?"text-gray-300 cursor-not-allowed":C.start&&z(e)===z(C.start)||C.end&&z(e)===z(C.end)?"bg-blue-500 text-white hover:bg-blue-600":C.start&&C.end&&e>=C.start&&e<=C.end?"bg-blue-100 text-blue-900":w&&z(e)===z(w)?"bg-blue-500 text-white hover:bg-blue-600":A&&z(e)===z(A)?"bg-blue-50":"text-gray-900":"text-gray-300 cursor-default"),onClick:()=>e&&(e=>{if(!E(e))if(d)if(!C.start||C.start&&C.end)k({start:e,end:null});else{let l=C.start,t=e>l?e:l,a=e>l?l:e;k({start:a,end:t}),p&&p({start:a,end:t})}else N(e),t(z(e)),f(!1)})(e),onMouseEnter:()=>e&&L(e),onMouseLeave:()=>L(null),children:e?e.getDate():""},l))}),(0,a.jsxs)("div",{className:"p-3 border-t border-gray-200 flex justify-between",children:[(0,a.jsx)(v,{size:"sm",variant:"outline",onClick:()=>f(!1),children:"Отмена"}),d&&C.start&&C.end&&(0,a.jsx)(v,{size:"sm",onClick:()=>f(!1),children:"Применить"})]})]})]})}var c=t(78749),d=t(92657);function p(e){let{value:l,onChange:t,placeholder:r="Введите пароль",label:s,required:n=!1,className:o="",error:u,helperText:p,disabled:b=!1,name:v,autoComplete:g="current-password"}=e,[x,h]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:o,children:[s&&(0,a.jsxs)("label",{className:"block text-sm font-medium text-[#323130] mb-1",children:[s,n&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m,{type:x?"text":"password",value:l,onChange:e=>t(e.target.value),placeholder:r,required:n,disabled:b,name:v,autoComplete:g,className:u?"border-red-300 focus:border-red-500 focus:ring-red-500":""}),(0,a.jsx)("button",{type:"button",onClick:()=>{h(!x)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600",disabled:b,children:x?(0,a.jsx)(c.A,{className:"h-4 w-4"}):(0,a.jsx)(d.A,{className:"h-4 w-4"})})]}),u&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u}),p&&!u&&(0,a.jsx)("p",{className:"mt-1 text-sm text-[#605e5c]",children:p})]})}var b=t(59434);let v=e=>{let{children:l,className:t,variant:i="primary",size:r="md",loading:s=!1,icon:n,iconPosition:o="left",disabled:u,...c}=e;return(0,a.jsxs)("button",{className:(0,b.cn)("inline-flex items-center justify-center font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",{primary:"bg-[#0078d4] text-white hover:bg-[#106ebe] focus:ring-[#0078d4] shadow-sm",secondary:"bg-[#f3f2f1] text-[#323130] hover:bg-[#e1dfdd] focus:ring-[#605e5c]",outline:"border border-[#605e5c] bg-transparent text-[#323130] hover:bg-[#f3f2f1] focus:ring-[#605e5c]",ghost:"bg-transparent text-[#323130] hover:bg-[#f3f2f1] focus:ring-[#605e5c]",danger:"bg-[#d13438] text-white hover:bg-[#b02a2e] focus:ring-[#d13438] shadow-sm"}[i],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[r],(u||s)&&"opacity-50 cursor-not-allowed",t),disabled:u||s,...c,children:[s&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!s&&n&&"left"===o&&(0,a.jsx)("span",{className:"mr-2",children:n}),l,!s&&n&&"right"===o&&(0,a.jsx)("span",{className:"ml-2",children:n})]})},m=e=>{let{className:l,label:t,error:i,helperText:r,icon:s,iconPosition:n="left",id:o,...u}=e,c=o||(null==t?void 0:t.toLowerCase().replace(/\s+/g,"-"));return(0,a.jsxs)("div",{className:"space-y-1",children:[t&&(0,a.jsx)("label",{htmlFor:c,className:"block text-sm font-medium text-[#323130]",children:t}),(0,a.jsxs)("div",{className:"relative",children:[s&&"left"===n&&(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("span",{className:"text-[#605e5c]",children:s})}),(0,a.jsx)("input",{id:c,className:(0,b.cn)("block w-full rounded-md border border-[#605e5c] px-3 py-2 text-sm transition-colors","bg-white text-gray-900","focus:border-[#0078d4] focus:ring-1 focus:ring-[#0078d4] focus:outline-none","placeholder:text-[#605e5c]",i&&"border-[#d13438] focus:border-[#d13438] focus:ring-[#d13438]",u.disabled&&"bg-[#f3f2f1] cursor-not-allowed",s&&"left"===n&&"pl-10",s&&"right"===n&&"pr-10",l),...u}),s&&"right"===n&&(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,a.jsx)("span",{className:"text-[#605e5c]",children:s})})]}),i&&(0,a.jsx)("p",{className:"text-sm text-[#d13438]",children:i}),r&&!i&&(0,a.jsx)("p",{className:"text-sm text-[#605e5c]",children:r})]})},g=e=>{let{options:l,value:t,onChange:r,placeholder:s="Выберите опцию",disabled:n=!1,error:o=!1,className:u,size:c="md"}=e,[d,p]=(0,i.useState)(!1),[v,m]=(0,i.useState)(l.find(e=>e.value===t)),g=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let e=e=>{g.current&&!g.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,i.useEffect)(()=>{m(l.find(e=>e.value===t))},[t,l]),(0,a.jsxs)("div",{className:(0,b.cn)("relative",u),ref:g,children:[(0,a.jsxs)("button",{type:"button",className:(0,b.cn)("w-full flex items-center justify-between border rounded-md bg-white transition-colors",{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-4 py-3 text-base"}[c],o?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500",n&&"bg-gray-50 cursor-not-allowed opacity-50",!n&&"hover:border-gray-400","focus:outline-none focus:ring-2 focus:ring-offset-2"),onClick:()=>!n&&p(!d),disabled:n,children:[(0,a.jsx)("span",{className:(0,b.cn)("truncate",v?"text-gray-900":"text-gray-500"),children:v?v.label:s}),(0,a.jsx)("svg",{className:(0,b.cn)("ml-2 h-4 w-4 transition-transform",d&&"rotate-180"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&(0,a.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:l.map(e=>(0,a.jsx)("button",{type:"button",className:(0,b.cn)("w-full px-4 py-2 text-left text-sm transition-colors",e.disabled?"text-gray-400 cursor-not-allowed bg-gray-50":"text-gray-900 hover:bg-gray-100 cursor-pointer",e.value===(null==v?void 0:v.value)&&"bg-blue-50 text-blue-700 font-medium"),onClick:()=>(e=>{e.disabled||(m(e),null==r||r(e.value),p(!1))})(e),disabled:e.disabled,children:e.label},e.value))})]})},x=i.forwardRef((e,l)=>{let{className:t,label:i,error:r,helperText:s,id:n,...o}=e,u=n||"textarea-".concat(Math.random().toString(36).substr(2,9));return(0,a.jsxs)("div",{className:"w-full",children:[i&&(0,a.jsx)("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 mb-1",children:i}),(0,a.jsx)("textarea",{id:u,ref:l,className:(0,b.cn)("w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500","placeholder-gray-400","bg-white text-gray-900","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",r&&"border-red-300 focus:ring-red-500 focus:border-red-500",t),...o}),r&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r}),s&&!r&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:s})]})});x.displayName="TeamsTextarea";let h=e=>{let{children:l,className:t,variant:i="default",padding:r="md",interactive:s=!1,...n}=e;return(0,a.jsx)("div",{className:(0,b.cn)("rounded-lg transition-all duration-200",{default:"bg-white border border-gray-200 shadow-sm",elevated:"bg-white shadow-md border border-gray-200",outlined:"bg-transparent border border-gray-300"}[i],{sm:"p-3",md:"p-4",lg:"p-6"}[r],s?"hover:shadow-lg hover:border-blue-300 cursor-pointer":"",t),...n,children:l})};var f=t(6874),y=t.n(f),j=t(35695),w=t(23861),N=t(71007),C=t(34835),k=t(74783),A=t(54789);function L(e){let{onMobileMenuOpen:l}=e,{isAuthenticated:t,user:i,logout:r}=(0,A.n)();return(0,j.useRouter)(),(0,a.jsx)("header",{className:"bg-white border-b border-[#e1dfdd] shadow-sm",children:(0,a.jsx)("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 xl:px-12",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-[#0078d4] rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"M\xb2"})}),(0,a.jsx)("span",{className:"hidden sm:block text-lg sm:text-xl font-bold text-[#323130]",children:"Метр квадратный"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 lg:space-x-6",children:[t&&(0,a.jsx)("button",{className:"relative p-2 sm:p-2.5 text-[#323130] hover:text-[#323130] transition-colors rounded-md hover:bg-[#f3f2f1]",children:(0,a.jsx)(w.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),t?(0,a.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(0,a.jsxs)(y(),{href:"/dashboard",className:"text-right hidden sm:block hover:opacity-80 transition-opacity px-2 py-1 rounded-md hover:bg-[#f3f2f1]",children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-[#323130]",children:[null==i?void 0:i.firstName," ",null==i?void 0:i.lastName]}),(0,a.jsx)("div",{className:"text-xs text-[#605e5c]",children:(null==i?void 0:i.role)==="REALTOR"?"Риелтор":null==i?void 0:i.role})]}),(0,a.jsx)(y(),{href:"/dashboard",className:"w-8 h-8 sm:w-9 sm:h-9 bg-[#deecf9] rounded-full flex items-center justify-center hover:bg-[#c7e0f4] transition-colors",children:(0,a.jsx)(N.A,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#0078d4]"})}),(0,a.jsxs)(v,{variant:"ghost",size:"sm",onClick:()=>{r()},className:"hidden lg:flex text-[#323130] hover:text-[#323130] hover:bg-[#f3f2f1]",children:[(0,a.jsx)(C.A,{className:"w-4 h-4 mr-2"}),"Выйти"]})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,a.jsx)(y(),{href:"/login",children:(0,a.jsx)(v,{variant:"ghost",size:"sm",className:"text-xs sm:text-sm",children:"Войти"})}),(0,a.jsx)(y(),{href:"/register",children:(0,a.jsx)(v,{size:"sm",className:"text-xs sm:text-sm",children:"Регистрация"})})]}),(0,a.jsx)("button",{className:"lg:hidden p-1.5 sm:p-2 text-gray-600 hover:text-gray-900 transition-colors",onClick:l,children:(0,a.jsx)(k.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})})})}var M=t(47650);let z=e=>{let{isOpen:l,onClose:t,title:r,children:s,size:n="md",showCloseButton:o=!0,footer:u,className:c}=e;if((0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return l&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[l,t]),!l)return null;let d=(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,a.jsxs)("div",{className:(0,b.cn)("relative bg-white rounded-lg shadow-xl w-full max-h-[90vh] overflow-hidden",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[n],c),children:[(r||o)&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r&&(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:r}),o&&(0,a.jsx)("button",{onClick:t,className:"p-1 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:s}),u&&(0,a.jsx)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:u})]})]});return(0,M.createPortal)(d,document.body)},E=e=>{let{children:l,className:t}=e;return(0,a.jsx)("div",{className:(0,b.cn)("overflow-x-auto",t),children:(0,a.jsx)("table",{className:"min-w-full divide-y divide-gray-200",children:l})})},S=e=>{let{children:l,className:t}=e;return(0,a.jsx)("thead",{className:(0,b.cn)("bg-gray-50",t),children:l})},R=e=>{let{children:l,className:t}=e;return(0,a.jsx)("tbody",{className:(0,b.cn)("bg-white divide-y divide-gray-200",t),children:l})},D=e=>{let{children:l,className:t,onClick:i,selected:r=!1}=e;return(0,a.jsx)("tr",{className:(0,b.cn)("hover:bg-gray-50 transition-colors",i&&"cursor-pointer",r&&"bg-blue-50 border-l-4 border-blue-500",t),onClick:i,children:l})},P=e=>{let{children:l,className:t,align:i="left"}=e;return(0,a.jsx)("td",{className:(0,b.cn)("px-6 py-4 whitespace-nowrap text-sm text-gray-900",{left:"text-left",center:"text-center",right:"text-right"}[i],t),children:l})},F=e=>{let{children:l,className:t,align:i="left"}=e;return(0,a.jsx)("th",{className:(0,b.cn)("px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",{left:"text-left",center:"text-center",right:"text-right"}[i],t),children:l})},B=e=>{let{children:l,variant:t="default",size:i="md",className:r}=e;return(0,a.jsx)("span",{className:(0,b.cn)("inline-flex items-center font-medium rounded-full",{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-cyan-100 text-cyan-800"}[t],{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-sm"}[i],r),children:l})},T=e=>{var l,t;let{tabs:r,defaultTab:s,onChange:n,className:o,variant:u="default"}=e,[c,d]=(0,i.useState)(s||(null==(l=r[0])?void 0:l.id)),p=null==(t=r.find(e=>e.id===c))?void 0:t.content,v=(e,l)=>(0,b.cn)("px-4 py-2 text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",l&&"opacity-50 cursor-not-allowed",!l&&"cursor-pointer");return(0,a.jsxs)("div",{className:o,children:[(0,a.jsx)("div",{className:(0,b.cn)("border-b border-gray-200","pills"===u&&"border-b-0"),children:(0,a.jsx)("nav",{className:(0,b.cn)("flex space-x-8","pills"===u&&"space-x-2"),children:r.map(e=>(0,a.jsx)("button",{onClick:()=>!e.disabled&&(e=>{d(e),null==n||n(e)})(e.id),className:"pills"===u?((e,l)=>(0,b.cn)(v(e,l),"rounded-md",e?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"))(c===e.id,e.disabled||!1):((e,l)=>(0,b.cn)(v(e,l),e?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-800 hover:border-b-2 hover:border-gray-300"))(c===e.id,e.disabled||!1),disabled:e.disabled,children:e.label},e.id))})}),(0,a.jsx)("div",{className:"mt-6",children:p})]})},I=e=>{let{children:l,variant:t="info",title:i,onClose:r,className:s}=e,n={info:{container:"bg-blue-50 border-blue-200",icon:"text-blue-400",title:"text-blue-800",content:"text-blue-700"},success:{container:"bg-green-50 border-green-200",icon:"text-green-400",title:"text-green-800",content:"text-green-700"},warning:{container:"bg-yellow-50 border-yellow-200",icon:"text-yellow-400",title:"text-yellow-800",content:"text-yellow-700"},error:{container:"bg-red-50 border-red-200",icon:"text-red-400",title:"text-red-800",content:"text-red-700"}}[t];return(0,a.jsx)("div",{className:(0,b.cn)("border rounded-md p-4",n.container,s),children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:(0,b.cn)("w-5 h-5",n.icon),children:(()=>{switch(t){case"info":return(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});case"success":return(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"warning":return(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"error":return(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}})()})}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[i&&(0,a.jsx)("h3",{className:(0,b.cn)("text-sm font-medium",n.title),children:i}),(0,a.jsx)("div",{className:(0,b.cn)("text-sm",n.content),children:l})]}),r&&(0,a.jsx)("div",{className:"ml-auto pl-3",children:(0,a.jsx)("button",{onClick:r,className:(0,b.cn)("inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2",n.container,"hover:bg-opacity-75"),children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})})};var _=t(66474);function H(e){let{value:l=[],onChange:t,options:r,placeholder:n="Выберите опции",className:o="",disabled:u=!1}=e,[c,d]=(0,i.useState)(!1),[p,b]=(0,i.useState)(""),v=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=e=>{v.current&&!v.current.contains(e.target)&&(d(!1),b(""))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let m=r.filter(e=>!e.disabled&&e.label.toLowerCase().includes(p.toLowerCase())&&!l.includes(e.value)),g=r.filter(e=>l.includes(e.value)),x=e=>{t(l.includes(e)?l.filter(l=>l!==e):[...l,e])};return(0,a.jsxs)("div",{className:"relative ".concat(o),ref:v,children:[(0,a.jsx)("div",{className:"\n          relative w-full px-3 py-2 text-left bg-white border border-[#e1dfdd] rounded-md shadow-sm cursor-pointer\n          hover:border-[#0078d4] focus:outline-none focus:ring-2 focus:ring-[#0078d4] focus:border-[#0078d4]\n          ".concat(u?"bg-[#f3f2f1] cursor-not-allowed":"","\n          ").concat(c?"border-[#0078d4] ring-2 ring-[#0078d4]":"","\n        "),onClick:()=>!u&&d(!c),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-1 min-h-6",children:g.length>0?g.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-[#deecf9] text-[#0078d4]",children:[e.label,(0,a.jsx)("button",{type:"button",className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-[#0078d4] hover:text-white",onClick:a=>{var i;a.stopPropagation(),i=e.value,t(l.filter(e=>e!==i))},children:(0,a.jsx)(s.A,{className:"w-3 h-3"})})]},e.value)):(0,a.jsx)("span",{className:"text-[#605e5c]",children:n})}),(0,a.jsx)(_.A,{className:"w-4 h-4 text-[#605e5c] transition-transform ".concat(c?"rotate-180":"")})]})}),c&&(0,a.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-[#e1dfdd] rounded-md shadow-lg max-h-60 overflow-auto",children:[(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)("input",{type:"text",placeholder:"Поиск...",value:p,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 text-sm border border-[#e1dfdd] rounded-md focus:outline-none focus:ring-2 focus:ring-[#0078d4] focus:border-[#0078d4]",onClick:e=>e.stopPropagation()})}),(0,a.jsx)("div",{className:"max-h-48 overflow-auto",children:0===m.length?(0,a.jsx)("div",{className:"px-3 py-2 text-sm text-[#605e5c]",children:p?"Ничего не найдено":"Нет доступных опций"}):m.map(e=>(0,a.jsxs)("div",{className:"px-3 py-2 text-sm cursor-pointer hover:bg-[#f3f2f1] flex items-center",onClick:()=>x(e.value),children:[(0,a.jsx)("input",{type:"checkbox",checked:l.includes(e.value),onChange:()=>x(e.value),className:"mr-2",onClick:e=>e.stopPropagation()}),e.label]},e.value))})]})]})}var W=t(88693);let Y={theme:"light",language:"ru",notifications:{email:!0,push:!0,sms:!1,inApp:!0},ui:{sidebarCollapsed:!1,compactMode:!1,showTutorials:!0}};(0,W.vt)((e,l)=>({user:null,isAuthenticated:!1,settings:Y,notifications:[],unreadCount:0,loading:{isLoading:!1},error:{hasError:!1},cache:{properties:new Map,bookings:new Map,contracts:new Map,payments:new Map},login:l=>{console.log("\uD83D\uDD27 Zustand login вызван с пользователем:",l),e({user:l,isAuthenticated:!0,error:{hasError:!1}}),console.log("✅ Zustand состояние обновлено после login")},logout:()=>{console.log("\uD83D\uDD27 Zustand logout вызван"),e({user:null,isAuthenticated:!1,notifications:[],unreadCount:0,cache:{properties:new Map,bookings:new Map,contracts:new Map,payments:new Map}}),console.log("✅ Zustand состояние обновлено после logout")},updateUser:l=>e(e=>({user:e.user?{...e.user,...l}:null})),updateSettings:l=>e(e=>({settings:{...e.settings,...l}})),toggleTheme:()=>e(e=>{let l=e.settings.theme;return{settings:{...e.settings,theme:"light"===l?"dark":"light"}}}),toggleSidebar:()=>e(e=>({settings:{...e.settings,ui:{...e.settings.ui,sidebarCollapsed:!e.settings.ui.sidebarCollapsed}}})),addNotification:l=>e(e=>{let t=[{...l,id:"notification_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),timestamp:new Date,read:!1},...e.notifications].slice(0,50),a=t.filter(e=>!e.read).length;return{notifications:t,unreadCount:a}}),markNotificationAsRead:l=>e(e=>{let t=e.notifications.map(e=>e.id===l?{...e,read:!0}:e),a=t.filter(e=>!e.read).length;return{notifications:t,unreadCount:a}}),clearNotifications:()=>e({notifications:[],unreadCount:0}),markAllAsRead:()=>e(e=>({notifications:e.notifications.map(e=>({...e,read:!0})),unreadCount:0})),setLoading:l=>e({loading:l}),setError:l=>e({error:l}),clearError:()=>e({error:{hasError:!1}}),cacheProperty:(l,t)=>e(e=>{let a=new Map(e.cache.properties);return a.set(l,{...t,cachedAt:new Date}),{cache:{...e.cache,properties:a}}}),cacheBooking:(l,t)=>e(e=>{let a=new Map(e.cache.bookings);return a.set(l,{...t,cachedAt:new Date}),{cache:{...e.cache,bookings:a}}}),cacheContract:(l,t)=>e(e=>{let a=new Map(e.cache.contracts);return a.set(l,{...t,cachedAt:new Date}),{cache:{...e.cache,contracts:a}}}),cachePayment:(l,t)=>e(e=>{let a=new Map(e.cache.payments);return a.set(l,{...t,cachedAt:new Date}),{cache:{...e.cache,payments:a}}}),clearCache:()=>e(e=>({cache:{properties:new Map,bookings:new Map,contracts:new Map,payments:new Map}}))}));var U=t(67624);let Z=e=>{let{isLoading:l,message:t="Загрузка...",progress:i,className:r,variant:s="overlay"}=e;if(!l)return null;let n=()=>void 0===i?null:(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:"".concat(Math.min(100,Math.max(0,i)),"%")}})});switch(s){case"inline":return(0,a.jsx)("div",{className:(0,b.cn)("flex items-center justify-center p-4",r),children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(U.A,{className:"h-5 w-5 animate-spin text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:t}),n()]})]})});case"skeleton":return(0,a.jsx)("div",{className:(0,b.cn)("animate-pulse",r),children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})});default:return(0,a.jsx)("div",{className:(0,b.cn)("fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",r),children:(0,a.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-xl max-w-sm w-full mx-4",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)(U.A,{className:"h-8 w-8 animate-spin text-blue-600 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t}),n()]})})})}},O=e=>{let{className:l,lines:t=3,variant:i="text"}=e;switch(i){case"card":return(0,a.jsx)("div",{className:(0,b.cn)("bg-white rounded-lg p-4 shadow-sm",l),children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-20"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-24"})]})]})});case"table":return(0,a.jsxs)("div",{className:(0,b.cn)("space-y-3",l),children:[(0,a.jsx)("div",{className:"flex space-x-4",children:Array.from({length:4}).map((e,l)=>(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded flex-1"},l))}),Array.from({length:t}).map((e,l)=>(0,a.jsx)("div",{className:"flex space-x-4",children:Array.from({length:4}).map((e,l)=>(0,a.jsx)("div",{className:(0,b.cn)("h-4 bg-gray-200 rounded flex-1",0===l&&"w-16",3===l&&"w-20")},l))},l))]});default:return(0,a.jsx)("div",{className:(0,b.cn)("space-y-2",l),children:Array.from({length:t}).map((e,l)=>(0,a.jsx)("div",{className:(0,b.cn)("h-4 bg-gray-200 rounded",0===l?"w-3/4":1===l?"w-1/2":"w-5/6")},l))})}};t(10809),t(53904),t(35169);var Q=t(28199);i.Component,t(57723);var q=t(23227),J=t(17580),V=t(33109),$=t(57434),G=t(81586),K=t(6740),X=t(5445),ee=t(33786),el=t(75525),et=t(381);let ea=[{title:"Панель управления",href:"/dashboard",icon:Q.A},{title:"Объекты",href:"/properties",icon:q.A},{title:"Клиенты",href:"/clients",icon:J.A},{title:"Сделки",href:"/deals",icon:V.A},{title:"Договоры",href:"/contracts",icon:$.A},{title:"Платежи",href:"/payments",icon:G.A},{title:"Скоринг",href:"/scoring",icon:K.A},{title:"Электронная подпись",href:"/signature",icon:X.A},{title:"Мультилистинг",href:"/multilisting",icon:ee.A},{title:"Страхование",href:"/insurance",icon:el.A},{title:"M\xb2 x Яндекс.Аренда",href:"/yandex-rental",icon:ee.A},{title:"Уведомления",href:"/notifications",icon:w.A},{title:"Настройки",href:"/settings",icon:et.A}];function ei(e){let{isMobileOpen:l=!1,onMobileClose:t}=e,r=(0,j.usePathname)(),{user:u,logout:c}=(0,A.n)(),[d,p]=(0,i.useState)(!1),[b,v]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=()=>{v(window.innerWidth<1024),window.innerWidth<1024&&p(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let m=async()=>{await c(),t&&t()};return b?(0,a.jsxs)(a.Fragment,{children:[l&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:t}),(0,a.jsx)("div",{className:"\n          fixed top-0 left-0 h-full bg-white shadow-xl z-50 transition-transform duration-300 ease-in-out\n          ".concat(l?"translate-x-0":"-translate-x-full","\n          w-64 lg:hidden\n        "),children:(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-[#0078d4] rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"M\xb2"})}),(0,a.jsx)("span",{className:"text-lg font-bold text-[#323130]",children:"Метр квадратный"})]}),(0,a.jsx)("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100",children:(0,a.jsx)(s.A,{className:"w-5 h-5 text-gray-600"})})]}),(0,a.jsxs)("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:[(0,a.jsx)("div",{className:"px-3 py-2 mb-2",children:(0,a.jsx)("h3",{className:"text-sm font-semibold text-[#605e5c] uppercase tracking-wide",children:"Меню"})}),ea.map(e=>{let l=e.icon,i=r===e.href,s="/yandex-rental"===e.href;return(0,a.jsxs)(y(),{href:e.href,onClick:t,className:"flex items-center px-3 py-3 rounded-md text-sm font-medium transition-colors ".concat(i?"bg-[#deecf9] text-[#0078d4]":"text-[#323130] hover:bg-[#f3f2f1] hover:text-[#323130]"),children:[(0,a.jsx)(l,{className:"w-5 h-5 mr-3"}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("span",{children:e.title}),s&&(0,a.jsx)("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Бета"})]})]},e.href)})]}),u&&(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-[#0078d4] rounded-full flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-white font-medium text-sm",children:[u.firstName.charAt(0),u.lastName.charAt(0)]})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-[#323130] truncate",children:[u.firstName," ",u.lastName]}),(0,a.jsx)("p",{className:"text-xs text-[#605e5c] truncate",children:u.email})]})]}),(0,a.jsxs)("button",{onClick:m,className:"flex items-center w-full px-3 py-2 text-sm font-medium text-[#323130] rounded-md hover:bg-[#f3f2f1] hover:text-[#323130] transition-colors",children:[(0,a.jsx)(C.A,{className:"w-4 h-4 mr-3"}),"Выйти"]})]})]})})]}):(0,a.jsx)("div",{className:"bg-white shadow-lg flex-shrink-0 transition-all duration-300 ".concat(d?"w-16":"w-64"," hidden lg:block"),children:(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsx)("div",{className:"flex items-center justify-end",children:(0,a.jsx)("button",{onClick:()=>{p(!d)},className:"p-1 rounded-md hover:bg-gray-100",title:d?"Развернуть меню":"Свернуть меню",children:d?(0,a.jsx)(o.A,{className:"w-4 h-4 text-gray-600"}):(0,a.jsx)(n.A,{className:"w-4 h-4 text-gray-600"})})})}),(0,a.jsxs)("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:[!d&&(0,a.jsx)("div",{className:"px-3 py-2 mb-2",children:(0,a.jsx)("h3",{className:"text-sm font-semibold text-[#605e5c] uppercase tracking-wide",children:"Меню"})}),ea.map(e=>{let l=e.icon,t=r===e.href,i="/yandex-rental"===e.href;return(0,a.jsxs)(y(),{href:e.href,className:"flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(t?"bg-[#deecf9] text-[#0078d4]":"text-[#323130] hover:bg-[#f3f2f1] hover:text-[#323130]"),title:d?e.title:void 0,children:[(0,a.jsx)(l,{className:"w-5 h-5 mr-3"}),!d&&(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("span",{children:e.title}),i&&(0,a.jsx)("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Бета"})]})]},e.href)})]}),!d&&u&&(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-[#0078d4] rounded-full flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-white font-medium text-sm",children:[u.firstName.charAt(0),u.lastName.charAt(0)]})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-[#323130] truncate",children:[u.firstName," ",u.lastName]}),(0,a.jsx)("p",{className:"text-xs text-[#605e5c] truncate",children:u.email})]})]}),(0,a.jsxs)("button",{onClick:m,className:"flex items-center w-full px-3 py-2 text-sm font-medium text-[#323130] rounded-md hover:bg-[#f3f2f1] hover:text-[#323130] transition-colors",children:[(0,a.jsx)(C.A,{className:"w-4 h-4 mr-3"}),"Выйти"]})]})]})})}let er=e=>{let{options:l,value:t,onChange:r,placeholder:n="Выберите опцию",disabled:o=!1,error:u=!1,className:c,size:d="md",allowCustom:p=!1,maxResults:v=10,onSearch:m}=e,[g,x]=(0,i.useState)(!1),[h,f]=(0,i.useState)(""),[y,j]=(0,i.useState)(l.find(e=>e.value===t)),[w,N]=(0,i.useState)(""),C=(0,i.useRef)(null),k=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=e=>{C.current&&!C.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,i.useEffect)(()=>{j(l.find(e=>e.value===t))},[t,l]),(0,i.useEffect)(()=>{y&&(f(y.label),N(""))},[y]);let A=l.filter(e=>e.label.toLowerCase().includes(h.toLowerCase())||e.description&&e.description.toLowerCase().includes(h.toLowerCase())).slice(0,v);return(0,a.jsxs)("div",{className:(0,b.cn)("relative",c),ref:C,children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{ref:k,type:"text",value:h,onChange:e=>{let l=e.target.value;f(l),N(l),g||x(!0),null==m||m(l)},onFocus:()=>x(!0),placeholder:n,disabled:o,className:(0,b.cn)("w-full flex items-center justify-between border rounded-md bg-white transition-colors",{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-4 py-3 text-base"}[d],u?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500",o&&"bg-gray-50 cursor-not-allowed opacity-50",!o&&"hover:border-gray-400","focus:outline-none focus:ring-2 focus:ring-offset-2","pr-10")}),(0,a.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:[h&&(0,a.jsx)("button",{type:"button",onClick:()=>{var e;j(void 0),f(""),N(""),null==r||r(""),null==(e=k.current)||e.focus()},className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(s.A,{className:"h-4 w-4"})}),(0,a.jsx)(_.A,{className:(0,b.cn)("h-4 w-4 text-gray-400 transition-transform",g&&"rotate-180")})]})]}),g&&(0,a.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:A.length>0?(0,a.jsxs)(a.Fragment,{children:[A.map(e=>(0,a.jsxs)("button",{type:"button",className:(0,b.cn)("w-full px-4 py-2 text-left transition-colors","text-gray-900 hover:bg-gray-100 cursor-pointer",e.value===(null==y?void 0:y.value)&&"bg-blue-50 text-blue-700 font-medium"),onClick:()=>(e=>{j(e),f(e.label),N(""),null==r||r(e.value),x(!1)})(e),children:[(0,a.jsx)("div",{className:"font-medium",children:e.label}),e.description&&(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]},e.value)),p&&w.trim()&&!A.find(e=>e.label.toLowerCase()===w.toLowerCase())&&(0,a.jsxs)("button",{type:"button",className:"w-full px-4 py-2 text-left text-blue-600 hover:bg-blue-50 cursor-pointer border-t border-gray-200",onClick:()=>{p&&w.trim()&&(null==r||r(w.trim()),f(w.trim()),j(void 0),x(!1))},children:[(0,a.jsxs)("div",{className:"font-medium",children:['Использовать: "',w,'"']}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Добавить как пользовательское значение"})]})]}):(0,a.jsx)("div",{className:"px-4 py-2 text-gray-500 text-center",children:"Ничего не найдено"})})]})};var es=t(4516);let en=[{value:"Москва",label:"Москва",region:"Московская область",population:0xbed564},{value:"Подольск",label:"Подольск",region:"Московская область",population:309250},{value:"Химки",label:"Химки",region:"Московская область",population:257128},{value:"Балашиха",label:"Балашиха",region:"Московская область",population:520962},{value:"Королёв",label:"Королёв",region:"Московская область",population:225299},{value:"Мытищи",label:"Мытищи",region:"Московская область",population:262702},{value:"Люберцы",label:"Люберцы",region:"Московская область",population:208397},{value:"Электросталь",label:"Электросталь",region:"Московская область",population:158508},{value:"Коломна",label:"Коломна",region:"Московская область",population:140129},{value:"Одинцово",label:"Одинцово",region:"Московская область",population:140439},{value:"Домодедово",label:"Домодедово",region:"Московская область",population:135070},{value:"Серпухов",label:"Серпухов",region:"Московская область",population:125817},{value:"Щёлково",label:"Щёлково",region:"Московская область",population:125634},{value:"Орехово-Зуево",label:"Орехово-Зуево",region:"Московская область",population:120670},{value:"Раменское",label:"Раменское",region:"Московская область",population:116077},{value:"Долгопрудный",label:"Долгопрудный",region:"Московская область",population:120907},{value:"Реутов",label:"Реутов",region:"Московская область",population:113871},{value:"Жуковский",label:"Жуковский",region:"Московская область",population:107558},{value:"Пушкино",label:"Пушкино",region:"Московская область",population:105479},{value:"Климовск",label:"Климовск",region:"Московская область",population:56247},{value:"Сергиев Посад",label:"Сергиев Посад",region:"Московская область",population:104579},{value:"Красногорск",label:"Красногорск",region:"Московская область",population:175812},{value:"Звенигород",label:"Звенигород",region:"Московская область",population:22293},{value:"Чехов",label:"Чехов",region:"Московская область",population:89025},{value:"Наро-Фоминск",label:"Наро-Фоминск",region:"Московская область",population:71021},{value:"Лобня",label:"Лобня",region:"Московская область",population:88220},{value:"Егорьевск",label:"Егорьевск",region:"Московская область",population:73655},{value:"Ступино",label:"Ступино",region:"Московская область",population:66285},{value:"Павловский Посад",label:"Павловский Посад",region:"Московская область",population:65098},{value:"Дмитров",label:"Дмитров",region:"Московская область",population:68157},{value:"Кашира",label:"Кашира",region:"Московская область",population:41569},{value:"Видное",label:"Видное",region:"Московская область",population:78e3},{value:"Фрязино",label:"Фрязино",region:"Московская область",population:60562},{value:"Лыткарино",label:"Лыткарино",region:"Московская область",population:59004},{value:"Ивантеевка",label:"Ивантеевка",region:"Московская область",population:76312},{value:"Красноармейск",label:"Красноармейск",region:"Московская область",population:26419},{value:"Дубна",label:"Дубна",region:"Московская область",population:75571},{value:"Котельники",label:"Котельники",region:"Московская область",population:47055},{value:"Протвино",label:"Протвино",region:"Московская область",population:37495},{value:"Луховицы",label:"Луховицы",region:"Московская область",population:29841},{value:"Шатура",label:"Шатура",region:"Московская область",population:32773},{value:"Зарайск",label:"Зарайск",region:"Московская область",population:20736},{value:"Рошаль",label:"Рошаль",region:"Московская область",population:20434},{value:"Электрогорск",label:"Электрогорск",region:"Московская область",population:22038},{value:"Можайск",label:"Можайск",region:"Московская область",population:30420},{value:"Волоколамск",label:"Волоколамск",region:"Московская область",population:18338},{value:"Клин",label:"Клин",region:"Московская область",population:80409},{value:"Истра",label:"Истра",region:"Московская область",population:37497},{value:"Воскресенск",label:"Воскресенск",region:"Московская область",population:93726},{value:"Озёры",label:"Озёры",region:"Московская область",population:25419},{value:"Ликино-Дулёво",label:"Ликино-Дулёво",region:"Московская область",population:31066},{value:"Талдом",label:"Талдом",region:"Московская область",population:12819},{value:"Пересвет",label:"Пересвет",region:"Московская область",population:14147},{value:"Санкт-Петербург",label:"Санкт-Петербург",region:"Ленинградская область",population:5398064},{value:"Гатчина",label:"Гатчина",region:"Ленинградская область",population:94347},{value:"Выборг",label:"Выборг",region:"Ленинградская область",population:77962},{value:"Сосновый Бор",label:"Сосновый Бор",region:"Ленинградская область",population:67026},{value:"Тихвин",label:"Тихвин",region:"Ленинградская область",population:57905},{value:"Кириши",label:"Кириши",region:"Ленинградская область",population:52009},{value:"Кингисепп",label:"Кингисепп",region:"Ленинградская область",population:48128},{value:"Всеволожск",label:"Всеволожск",region:"Ленинградская область",population:79038},{value:"Волхов",label:"Волхов",region:"Ленинградская область",population:44708},{value:"Сланцы",label:"Сланцы",region:"Ленинградская область",population:33585},{value:"Тосно",label:"Тосно",region:"Ленинградская область",population:39101},{value:"Луга",label:"Луга",region:"Ленинградская область",population:38467},{value:"Гатчина",label:"Гатчина",region:"Ленинградская область",population:94347},{value:"Пикалёво",label:"Пикалёво",region:"Ленинградская область",population:20566},{value:"Отрадное",label:"Отрадное",region:"Ленинградская область",population:25356},{value:"Подпорожье",label:"Подпорожье",region:"Ленинградская область",population:17484},{value:"Коммунар",label:"Коммунар",region:"Ленинградская область",population:21053},{value:"Приозерск",label:"Приозерск",region:"Ленинградская область",population:18777},{value:"Никольское",label:"Никольское",region:"Ленинградская область",population:22147},{value:"Бокситогорск",label:"Бокситогорск",region:"Ленинградская область",population:15670},{value:"Светогорск",label:"Светогорск",region:"Ленинградская область",population:15481},{value:"Сясьстрой",label:"Сясьстрой",region:"Ленинградская область",population:12883},{value:"Шлиссельбург",label:"Шлиссельбург",region:"Ленинградская область",population:14131},{value:"Сиверский",label:"Сиверский",region:"Ленинградская область",population:12216},{value:"Волосово",label:"Волосово",region:"Ленинградская область",population:12061},{value:"Ивангород",label:"Ивангород",region:"Ленинградская область",population:9867},{value:"Вырица",label:"Вырица",region:"Ленинградская область",population:12073},{value:"Новая Ладога",label:"Новая Ладога",region:"Ленинградская область",population:8833},{value:"Токсово",label:"Токсово",region:"Ленинградская область",population:6144},{value:"Новосибирск",label:"Новосибирск",region:"Новосибирская область",population:1625631},{value:"Екатеринбург",label:"Екатеринбург",region:"Свердловская область",population:1493749},{value:"Казань",label:"Казань",region:"Республика Татарстан",population:1257391},{value:"Нижний Новгород",label:"Нижний Новгород",region:"Нижегородская область",population:1244254},{value:"Челябинск",label:"Челябинск",region:"Челябинская область",population:1202371},{value:"Самара",label:"Самара",region:"Самарская область",population:1164685},{value:"Уфа",label:"Уфа",region:"Республика Башкортостан",population:1125699},{value:"Ростов-на-Дону",label:"Ростов-на-Дону",region:"Ростовская область",population:1125299},{value:"Краснодар",label:"Краснодар",region:"Краснодарский край",population:1099344},{value:"Омск",label:"Омск",region:"Омская область",population:1178391},{value:"Воронеж",label:"Воронеж",region:"Воронежская область",population:1057681},{value:"Пермь",label:"Пермь",region:"Пермский край",population:1053938},{value:"Волгоград",label:"Волгоград",region:"Волгоградская область",population:1015587},{value:"Красноярск",label:"Красноярск",region:"Красноярский край",population:1093864},{value:"Саратов",label:"Саратов",region:"Саратовская область",population:845300},{value:"Тюмень",label:"Тюмень",region:"Тюменская область",population:847488},{value:"Тольятти",label:"Тольятти",region:"Самарская область",population:685619},{value:"Ижевск",label:"Ижевск",region:"Удмуртская Республика",population:646277},{value:"Барнаул",label:"Барнаул",region:"Алтайский край",population:631124},{value:"Ульяновск",label:"Ульяновск",region:"Ульяновская область",population:624518},{value:"Иркутск",label:"Иркутск",region:"Иркутская область",population:623479},{value:"Хабаровск",label:"Хабаровск",region:"Хабаровский край",population:617441},{value:"Махачкала",label:"Махачкала",region:"Республика Дагестан",population:604266},{value:"Ярославль",label:"Ярославль",region:"Ярославская область",population:601403},{value:"Владивосток",label:"Владивосток",region:"Приморский край",population:600378},{value:"Оренбург",label:"Оренбург",region:"Оренбургская область",population:572188},{value:"Томск",label:"Томск",region:"Томская область",population:572740},{value:"Кемерово",label:"Кемерово",region:"Кемеровская область",population:552546},{value:"Новокузнецк",label:"Новокузнецк",region:"Кемеровская область",population:544583},{value:"Рязань",label:"Рязань",region:"Рязанская область",population:537622},{value:"Астрахань",label:"Астрахань",region:"Астраханская область",population:532504},{value:"Набережные Челны",label:"Набережные Челны",region:"Республика Татарстан",population:532074},{value:"Пенза",label:"Пенза",region:"Пензенская область",population:520300},{value:"Липецк",label:"Липецк",region:"Липецкая область",population:508887},{value:"Киров",label:"Киров",region:"Кировская область",population:501468},{value:"Чебоксары",label:"Чебоксары",region:"Чувашская Республика",population:495810},{value:"Тула",label:"Тула",region:"Тульская область",population:485221},{value:"Калининград",label:"Калининград",region:"Калининградская область",population:475056},{value:"Курск",label:"Курск",region:"Курская область",population:449063},{value:"Улан-Удэ",label:"Улан-Удэ",region:"Республика Бурятия",population:437565},{value:"Ставрополь",label:"Ставрополь",region:"Ставропольский край",population:433577},{value:"Сочи",label:"Сочи",region:"Краснодарский край",population:411524},{value:"Иваново",label:"Иваново",region:"Ивановская область",population:401505},{value:"Брянск",label:"Брянск",region:"Брянская область",population:399579},{value:"Белгород",label:"Белгород",region:"Белгородская область",population:391554},{value:"Архангельск",label:"Архангельск",region:"Архангельская область",population:349742},{value:"Владимир",label:"Владимир",region:"Владимирская область",population:356168},{value:"Севастополь",label:"Севастополь",region:"Севастополь",population:449138},{value:"Чита",label:"Чита",region:"Забайкальский край",population:350861},{value:"Грозный",label:"Грозный",region:"Чеченская Республика",population:324602},{value:"Калининград",label:"Калининград",region:"Калининградская область",population:475056},{value:"Смоленск",label:"Смоленск",region:"Смоленская область",population:325495},{value:"Вологда",label:"Вологда",region:"Вологодская область",population:313944},{value:"Саранск",label:"Саранск",region:"Республика Мордовия",population:318841},{value:"Череповец",label:"Череповец",region:"Вологодская область",population:305185},{value:"Владикавказ",label:"Владикавказ",region:"Республика Северная Осетия - Алания",population:295830},{value:"Мурманск",label:"Мурманск",region:"Мурманская область",population:282851},{value:"Сургут",label:"Сургут",region:"Ханты-Мансийский автономный округ - Югра",population:387235},{value:"Волжский",label:"Волжский",region:"Волгоградская область",population:321479},{value:"Орёл",label:"Орёл",region:"Орловская область",population:303169},{value:"Стерлитамак",label:"Стерлитамак",region:"Республика Башкортостан",population:277410},{value:"Грозный",label:"Грозный",region:"Чеченская Республика",population:324602},{value:"Якутск",label:"Якутск",region:"Республика Саха (Якутия)",population:322987},{value:"Кострома",label:"Кострома",region:"Костромская область",population:277648},{value:"Комсомольск-на-Амуре",label:"Комсомольск-на-Амуре",region:"Хабаровский край",population:238505},{value:"Рыбинск",label:"Рыбинск",region:"Ярославская область",population:190429},{value:"Тамбов",label:"Тамбов",region:"Тамбовская область",population:289701},{value:"Прокопьевск",label:"Прокопьевск",region:"Кемеровская область",population:177819},{value:"Новороссийск",label:"Новороссийск",region:"Краснодарский край",population:275197},{value:"Йошкар-Ола",label:"Йошкар-Ола",region:"Республика Марий Эл",population:266675},{value:"Нальчик",label:"Нальчик",region:"Кабардино-Балкарская Республика",population:247054},{value:"Старый Оскол",label:"Старый Оскол",region:"Белгородская область",population:223360},{value:"Балаково",label:"Балаково",region:"Саратовская область",population:189829},{value:"Ухта",label:"Ухта",region:"Республика Коми",population:92631},{value:"Миасс",label:"Миасс",region:"Челябинская область",population:147995},{value:"Армавир",label:"Армавир",region:"Краснодарский край",population:187177},{value:"Ленинск-Кузнецкий",label:"Ленинск-Кузнецкий",region:"Кемеровская область",population:93288},{value:"Сыктывкар",label:"Сыктывкар",region:"Республика Коми",population:245083},{value:"Новочебоксарск",label:"Новочебоксарск",region:"Чувашская Республика",population:120375},{value:"Нефтеюганск",label:"Нефтеюганск",region:"Ханты-Мансийский автономный округ - Югра",population:128159},{value:"Петрозаводск",label:"Петрозаводск",region:"Республика Карелия",population:278551},{value:"Норильск",label:"Норильск",region:"Красноярский край",population:182701},{value:"Сызрань",label:"Сызрань",region:"Самарская область",population:165725},{value:"Новомосковск",label:"Новомосковск",region:"Тульская область",population:119697},{value:"Каменск-Уральский",label:"Каменск-Уральский",region:"Свердловская область",population:164192},{value:"Златоуст",label:"Златоуст",region:"Челябинская область",population:161774},{value:"Электросталь",label:"Электросталь",region:"Московская область",population:158508},{value:"Альметьевск",label:"Альметьевск",region:"Республика Татарстан",population:163512},{value:"Красногорск",label:"Красногорск",region:"Московская область",population:175812},{value:"Королёв",label:"Королёв",region:"Московская область",population:225299},{value:"Мытищи",label:"Мытищи",region:"Московская область",population:262702},{value:"Люберцы",label:"Люберцы",region:"Московская область",population:208397},{value:"Коломна",label:"Коломна",region:"Московская область",population:140129},{value:"Одинцово",label:"Одинцово",region:"Московская область",population:140439},{value:"Домодедово",label:"Домодедово",region:"Московская область",population:135070},{value:"Серпухов",label:"Серпухов",region:"Московская область",population:125817},{value:"Щёлково",label:"Щёлково",region:"Московская область",population:125634},{value:"Орехово-Зуево",label:"Орехово-Зуево",region:"Московская область",population:120670},{value:"Раменское",label:"Раменское",region:"Московская область",population:116077},{value:"Долгопрудный",label:"Долгопрудный",region:"Московская область",population:120907},{value:"Реутов",label:"Реутов",region:"Московская область",population:113871},{value:"Жуковский",label:"Жуковский",region:"Московская область",population:107558},{value:"Пушкино",label:"Пушкино",region:"Московская область",population:105479},{value:"Климовск",label:"Климовск",region:"Московская область",population:56247},{value:"Сергиев Посад",label:"Сергиев Посад",region:"Московская область",population:104579},{value:"Звенигород",label:"Звенигород",region:"Московская область",population:22293},{value:"Чехов",label:"Чехов",region:"Московская область",population:89025},{value:"Наро-Фоминск",label:"Наро-Фоминск",region:"Московская область",population:71021},{value:"Лобня",label:"Лобня",region:"Московская область",population:88220},{value:"Егорьевск",label:"Егорьевск",region:"Московская область",population:73655},{value:"Ступино",label:"Ступино",region:"Московская область",population:66285},{value:"Павловский Посад",label:"Павловский Посад",region:"Московская область",population:65098},{value:"Дмитров",label:"Дмитров",region:"Московская область",population:68157},{value:"Кашира",label:"Кашира",region:"Московская область",population:41569},{value:"Видное",label:"Видное",region:"Московская область",population:78e3},{value:"Фрязино",label:"Фрязино",region:"Московская область",population:60562},{value:"Лыткарино",label:"Лыткарино",region:"Московская область",population:59004},{value:"Ивантеевка",label:"Ивантеевка",region:"Московская область",population:76312},{value:"Красноармейск",label:"Красноармейск",region:"Московская область",population:26419},{value:"Дубна",label:"Дубна",region:"Московская область",population:75571},{value:"Котельники",label:"Котельники",region:"Московская область",population:47055},{value:"Протвино",label:"Протвино",region:"Московская область",population:37495},{value:"Луховицы",label:"Луховицы",region:"Московская область",population:29841},{value:"Шатура",label:"Шатура",region:"Московская область",population:32773},{value:"Зарайск",label:"Зарайск",region:"Московская область",population:20736},{value:"Рошаль",label:"Рошаль",region:"Московская область",population:20434},{value:"Электрогорск",label:"Электрогорск",region:"Московская область",population:22038},{value:"Можайск",label:"Можайск",region:"Московская область",population:30420},{value:"Волоколамск",label:"Волоколамск",region:"Московская область",population:18338},{value:"Клин",label:"Клин",region:"Московская область",population:80409},{value:"Истра",label:"Истра",region:"Московская область",population:37497},{value:"Воскресенск",label:"Воскресенск",region:"Московская область",population:93726},{value:"Озёры",label:"Озёры",region:"Московская область",population:25419},{value:"Ликино-Дулёво",label:"Ликино-Дулёво",region:"Московская область",population:31066},{value:"Талдом",label:"Талдом",region:"Московская область",population:12819},{value:"Пересвет",label:"Пересвет",region:"Московская область",population:14147}],eo=[{value:"Тверская улица",label:"Тверская улица",district:"Центральный округ",type:"улица"},{value:"Арбат",label:"Арбат",district:"Центральный округ",type:"улица"},{value:"Новый Арбат",label:"Новый Арбат",district:"Центральный округ",type:"проспект"},{value:"Кутузовский проспект",label:"Кутузовский проспект",district:"Западный округ",type:"проспект"},{value:"Ленинский проспект",label:"Ленинский проспект",district:"Юго-Западный округ",type:"проспект"},{value:"Мира проспект",label:"Мира проспект",district:"Северо-Восточный округ",type:"проспект"},{value:"Вернадского проспект",label:"Вернадского проспект",district:"Юго-Западный округ",type:"проспект"},{value:"Московский проспект",label:"Московский проспект",district:"Южный округ",type:"проспект"},{value:"Ярославское шоссе",label:"Ярославское шоссе",district:"Северо-Восточный округ",type:"шоссе"},{value:"Ленинградское шоссе",label:"Ленинградское шоссе",district:"Северный округ",type:"шоссе"},{value:"Дмитровское шоссе",label:"Дмитровское шоссе",district:"Северный округ",type:"шоссе"},{value:"Щёлковское шоссе",label:"Щёлковское шоссе",district:"Восточный округ",type:"шоссе"},{value:"Варшавское шоссе",label:"Варшавское шоссе",district:"Южный округ",type:"шоссе"},{value:"Каширское шоссе",label:"Каширское шоссе",district:"Южный округ",type:"шоссе"},{value:"Рублёвское шоссе",label:"Рублёвское шоссе",district:"Западный округ",type:"шоссе"},{value:"Можайское шоссе",label:"Можайское шоссе",district:"Западный округ",type:"шоссе"},{value:"Киевское шоссе",label:"Киевское шоссе",district:"Западный округ",type:"шоссе"},{value:"Боровское шоссе",label:"Боровское шоссе",district:"Западный округ",type:"шоссе"},{value:"Новорижское шоссе",label:"Новорижское шоссе",district:"Западный округ",type:"шоссе"},{value:"Сколковское шоссе",label:"Сколковское шоссе",district:"Западный округ",type:"шоссе"},{value:"Минское шоссе",label:"Минское шоссе",district:"Западный округ",type:"шоссе"},{value:"Кутузовский проспект",label:"Кутузовский проспект",district:"Западный округ",type:"проспект"},{value:"Красная площадь",label:"Красная площадь",district:"Центральный округ",type:"площадь"},{value:"Пушкинская площадь",label:"Пушкинская площадь",district:"Центральный округ",type:"площадь"},{value:"Театральная площадь",label:"Театральная площадь",district:"Центральный округ",type:"площадь"},{value:"Манежная площадь",label:"Манежная площадь",district:"Центральный округ",type:"площадь"},{value:"Лубянская площадь",label:"Лубянская площадь",district:"Центральный округ",type:"площадь"},{value:"Триумфальная площадь",label:"Триумфальная площадь",district:"Центральный округ",type:"площадь"},{value:"Курский вокзал площадь",label:"Курский вокзал площадь",district:"Центральный округ",type:"площадь"},{value:"Комсомольская площадь",label:"Комсомольская площадь",district:"Центральный округ",type:"площадь"},{value:"Киевский вокзал площадь",label:"Киевский вокзал площадь",district:"Западный округ",type:"площадь"},{value:"Белорусский вокзал площадь",label:"Белорусский вокзал площадь",district:"Центральный округ",type:"площадь"},{value:"Ленинградский вокзал площадь",label:"Ленинградский вокзал площадь",district:"Центральный округ",type:"площадь"},{value:"Казанский вокзал площадь",label:"Казанский вокзал площадь",district:"Центральный округ",type:"площадь"},{value:"Павелецкий вокзал площадь",label:"Павелецкий вокзал площадь",district:"Центральный округ",type:"площадь"},{value:"Савеловский вокзал площадь",label:"Савеловский вокзал площадь",district:"Северный округ",type:"площадь"},{value:"Рижский вокзал площадь",label:"Рижский вокзал площадь",district:"Северо-Восточный округ",type:"площадь"},{value:"Ярославский вокзал площадь",label:"Ярославский вокзал площадь",district:"Центральный округ",type:"площадь"},{value:"Краснопресненская набережная",label:"Краснопресненская набережная",district:"Центральный округ",type:"набережная"},{value:"Софийская набережная",label:"Софийская набережная",district:"Центральный округ",type:"набережная"},{value:"Кремлёвская набережная",label:"Кремлёвская набережная",district:"Центральный округ",type:"набережная"},{value:"Берсеневская набережная",label:"Берсеневская набережная",district:"Центральный округ",type:"набережная"},{value:"Пречистенская набережная",label:"Пречистенская набережная",district:"Центральный округ",type:"набережная"},{value:"Фрунзенская набережная",label:"Фрунзенская набережная",district:"Центральный округ",type:"набережная"},{value:"Пушкинская набережная",label:"Пушкинская набережная",district:"Центральный округ",type:"набережная"},{value:"Андреевская набережная",label:"Андреевская набережная",district:"Юго-Западный округ",type:"набережная"},{value:"Воробьёвская набережная",label:"Воробьёвская набережная",district:"Юго-Западный округ",type:"набережная"},{value:"Лужнецкая набережная",label:"Лужнецкая набережная",district:"Юго-Западный округ",type:"набережная"},{value:"Нескучный сад набережная",label:"Нескучный сад набережная",district:"Центральный округ",type:"набережная"},{value:"Крымская набережная",label:"Крымская набережная",district:"Центральный округ",type:"набережная"},{value:"Космодамианская набережная",label:"Космодамианская набережная",district:"Центральный округ",type:"набережная"},{value:"Раушская набережная",label:"Раушская набережная",district:"Центральный округ",type:"набережная"},{value:"Овчинниковская набережная",label:"Овчинниковская набережная",district:"Центральный округ",type:"набережная"},{value:"Кожевническая набережная",label:"Кожевническая набережная",district:"Центральный округ",type:"набережная"},{value:"Даниловская набережная",label:"Даниловская набережная",district:"Южный округ",type:"набережная"},{value:"Дербеневская набережная",label:"Дербеневская набережная",district:"Южный округ",type:"набережная"},{value:"Новоспасская набережная",label:"Новоспасская набережная",district:"Южный округ",type:"набережная"},{value:"Крутицкая набережная",label:"Крутицкая набережная",district:"Южный округ",type:"набережная"},{value:"Краснохолмская набережная",label:"Краснохолмская набережная",district:"Центральный округ",type:"набережная"},{value:"Шлюзовая набережная",label:"Шлюзовая набережная",district:"Центральный округ",type:"набережная"},{value:"Бережковская набережная",label:"Бережковская набережная",district:"Западный округ",type:"набережная"},{value:"Тараса Шевченко набережная",label:"Тараса Шевченко набережная",district:"Западный округ",type:"набережная"},{value:"Студенческая набережная",label:"Студенческая набережная",district:"Западный округ",type:"набережная"},{value:"Ростовская набережная",label:"Ростовская набережная",district:"Юго-Западный округ",type:"набережная"},{value:"Нахимовский проспект",label:"Нахимовский проспект",district:"Юго-Западный округ",type:"проспект"},{value:"Севастопольский проспект",label:"Севастопольский проспект",district:"Юго-Западный округ",type:"проспект"},{value:"Варшавское шоссе",label:"Варшавское шоссе",district:"Южный округ",type:"шоссе"},{value:"Каширское шоссе",label:"Каширское шоссе",district:"Южный округ",type:"шоссе"},{value:"Рублёвское шоссе",label:"Рублёвское шоссе",district:"Западный округ",type:"шоссе"},{value:"Можайское шоссе",label:"Можайское шоссе",district:"Западный округ",type:"шоссе"},{value:"Киевское шоссе",label:"Киевское шоссе",district:"Западный округ",type:"шоссе"},{value:"Боровское шоссе",label:"Боровское шоссе",district:"Западный округ",type:"шоссе"},{value:"Новорижское шоссе",label:"Новорижское шоссе",district:"Западный округ",type:"шоссе"},{value:"Сколковское шоссе",label:"Сколковское шоссе",district:"Западный округ",type:"шоссе"},{value:"Минское шоссе",label:"Минское шоссе",district:"Западный округ",type:"шоссе"},{value:"Волоколамское шоссе",label:"Волоколамское шоссе",district:"Северо-Западный округ",type:"шоссе"},{value:"Пятницкое шоссе",label:"Пятницкое шоссе",district:"Северо-Западный округ",type:"шоссе"},{value:"Алтуфьевское шоссе",label:"Алтуфьевское шоссе",district:"Северо-Восточный округ",type:"шоссе"},{value:"Осташковское шоссе",label:"Осташковское шоссе",district:"Северо-Восточный округ",type:"шоссе"},{value:"Открытое шоссе",label:"Открытое шоссе",district:"Восточный округ",type:"шоссе"},{value:"Шоссе Энтузиастов",label:"Шоссе Энтузиастов",district:"Восточный округ",type:"шоссе"},{value:"Рязанский проспект",label:"Рязанский проспект",district:"Юго-Восточный округ",type:"проспект"},{value:"Волгоградский проспект",label:"Волгоградский проспект",district:"Юго-Восточный округ",type:"проспект"},{value:"Марьинский бульвар",label:"Марьинский бульвар",district:"Юго-Восточный округ",type:"аллея"},{value:"Люблинская улица",label:"Люблинская улица",district:"Юго-Восточный округ",type:"улица"},{value:"Перерва улица",label:"Перерва улица",district:"Юго-Восточный округ",type:"улица"},{value:"Братиславская улица",label:"Братиславская улица",district:"Юго-Восточный округ",type:"улица"},{value:"Новочеркасский бульвар",label:"Новочеркасский бульвар",district:"Юго-Восточный округ",type:"аллея"},{value:"Зеленодольская улица",label:"Зеленодольская улица",district:"Юго-Восточный округ",type:"улица"},{value:"Волжский бульвар",label:"Волжский бульвар",district:"Юго-Восточный округ",type:"аллея"},{value:"Кузьминская улица",label:"Кузьминская улица",district:"Юго-Восточный округ",type:"улица"},{value:"Жигулёвская улица",label:"Жигулёвская улица",district:"Юго-Восточный округ",type:"улица"},{value:"Самаркандский бульвар",label:"Самаркандский бульвар",district:"Юго-Восточный округ",type:"аллея"},{value:"Ташкентская улица",label:"Ташкентская улица",district:"Юго-Восточный округ",type:"улица"},{value:"Ферганская улица",label:"Ферганская улица",district:"Юго-Восточный округ",type:"улица"},{value:"Новогиреевская улица",label:"Новогиреевская улица",district:"Восточный округ",type:"улица"},{value:"Перовская улица",label:"Перовская улица",district:"Восточный округ",type:"улица"},{value:"Металлургов улица",label:"Металлургов улица",district:"Восточный округ",type:"улица"},{value:"Свободный проспект",label:"Свободный проспект",district:"Восточный округ",type:"проспект"},{value:"Зелёный проспект",label:"Зелёный проспект",district:"Восточный округ",type:"проспект"},{value:"Носовихинское шоссе",label:"Носовихинское шоссе",district:"Восточный округ",type:"шоссе"},{value:"Горьковское шоссе",label:"Горьковское шоссе",district:"Восточный округ",type:"шоссе"},{value:"Энтузиастов шоссе",label:"Энтузиастов шоссе",district:"Восточный округ",type:"шоссе"},{value:"Измайловский проспект",label:"Измайловский проспект",district:"Восточный округ",type:"проспект"},{value:"Измайловское шоссе",label:"Измайловское шоссе",district:"Восточный округ",type:"шоссе"},{value:"Щёлковское шоссе",label:"Щёлковское шоссе",district:"Восточный округ",type:"шоссе"},{value:"Балашихинское шоссе",label:"Балашихинское шоссе",district:"Восточный округ",type:"шоссе"},{value:"Черкизовская улица",label:"Черкизовская улица",district:"Восточный округ",type:"улица"},{value:"Преображенская улица",label:"Преображенская улица",district:"Восточный округ",type:"улица"},{value:"Преображенская площадь",label:"Преображенская площадь",district:"Восточный округ",type:"площадь"},{value:"Сокольническая площадь",label:"Сокольническая площадь",district:"Восточный округ",type:"площадь"},{value:"Сокольнический Вал улица",label:"Сокольнический Вал улица",district:"Восточный округ",type:"улица"},{value:"Русаковская улица",label:"Русаковская улица",district:"Восточный округ",type:"улица"},{value:"Стромынка улица",label:"Стромынка улица",district:"Восточный округ",type:"улица"},{value:"Богородский Вал улица",label:"Богородский Вал улица",district:"Восточный округ",type:"улица"},{value:"Открытое шоссе",label:"Открытое шоссе",district:"Восточный округ",type:"шоссе"},{value:"Ярославское шоссе",label:"Ярославское шоссе",district:"Северо-Восточный округ",type:"шоссе"},{value:"Дмитровское шоссе",label:"Дмитровское шоссе",district:"Северный округ",type:"шоссе"},{value:"Ленинградское шоссе",label:"Ленинградское шоссе",district:"Северный округ",type:"шоссе"},{value:"Дмитровская улица",label:"Дмитровская улица",district:"Северный округ",type:"улица"},{value:"Дмитровский переулок",label:"Дмитровский переулок",district:"Северный округ",type:"переулок"},{value:"Дмитровское шоссе",label:"Дмитровское шоссе",district:"Северный округ",type:"шоссе"},{value:"Бутырская улица",label:"Бутырская улица",district:"Северный округ",type:"улица"},{value:"Бутырский Вал улица",label:"Бутырский Вал улица",district:"Северный округ",type:"улица"},{value:"Новослободская улица",label:"Новослободская улица",district:"Северный округ",type:"улица"},{value:"Сущёвская улица",label:"Сущёвская улица",district:"Северный округ",type:"улица"},{value:"Сущёвский Вал улица",label:"Сущёвский Вал улица",district:"Северный округ",type:"улица"},{value:"Марьина Роща улица",label:"Марьина Роща улица",district:"Северо-Восточный округ",type:"улица"},{value:"Марьинский парк улица",label:"Марьинский парк улица",district:"Северо-Восточный округ",type:"улица"},{value:"Шереметьевская улица",label:"Шереметьевская улица",district:"Северо-Восточный округ",type:"улица"},{value:"Алтуфьевское шоссе",label:"Алтуфьевское шоссе",district:"Северо-Восточный округ",type:"шоссе"},{value:"Осташковская улица",label:"Осташковская улица",district:"Северо-Восточный округ",type:"улица"},{value:"Осташковское шоссе",label:"Осташковское шоссе",district:"Северо-Восточный округ",type:"шоссе"},{value:"Ярославская улица",label:"Ярославская улица",district:"Северо-Восточный округ",type:"улица"},{value:"Ярославское шоссе",label:"Ярославское шоссе",district:"Северо-Восточный округ",type:"шоссе"},{value:"Проспект Мира",label:"Проспект Мира",district:"Северо-Восточный округ",type:"проспект"},{value:"Рижская площадь",label:"Рижская площадь",district:"Северо-Восточный округ",type:"площадь"},{value:"Рижский проезд",label:"Рижский проезд",district:"Северо-Восточный округ",type:"проезд"},{value:"Рижская улица",label:"Рижская улица",district:"Северо-Восточный округ",type:"улица"},{value:"Рижский переулок",label:"Рижский переулок",district:"Северо-Восточный округ",type:"переулок"},{value:"Рижский тупик",label:"Рижский тупик",district:"Северо-Восточный округ",type:"тупик"},{value:"Рижская линия",label:"Рижская линия",district:"Северо-Восточный округ",type:"линия"},{value:"Рижский бульвар",label:"Рижский бульвар",district:"Северо-Восточный округ",type:"аллея"},{value:"Рижская набережная",label:"Рижская набережная",district:"Северо-Восточный округ",type:"набережная"},{value:"Рижская площадь",label:"Рижская площадь",district:"Северо-Восточный округ",type:"площадь"},{value:"Рижский проезд",label:"Рижский проезд",district:"Северо-Восточный округ",type:"проезд"},{value:"Рижская улица",label:"Рижская улица",district:"Северо-Восточный округ",type:"улица"},{value:"Рижский переулок",label:"Рижский переулок",district:"Северо-Восточный округ",type:"переулок"},{value:"Рижский тупик",label:"Рижский тупик",district:"Северо-Восточный округ",type:"тупик"},{value:"Рижская линия",label:"Рижская линия",district:"Северо-Восточный округ",type:"линия"},{value:"Рижский бульвар",label:"Рижский бульвар",district:"Северо-Восточный округ",type:"аллея"},{value:"Рижская набережная",label:"Рижская набережная",district:"Северо-Восточный округ",type:"набережная"}],eu=e=>{let{value:l={},onChange:t,placeholder:r="Введите адрес",disabled:s=!1,error:n=!1,className:o,size:u="md",showFullAddress:c=!0}=e,[d,p]=(0,i.useState)([]),[b,v]=(0,i.useState)([]),[g,x]=(0,i.useState)(l.city||""),[h,f]=(0,i.useState)(l.street||""),[y,j]=(0,i.useState)(l.house||""),[w,N]=(0,i.useState)(l.apartment||"");return(0,i.useEffect)(()=>{let e=[g,h,y,w].filter(Boolean).join(", ");null==t||t({city:g,street:h,house:y,apartment:w,fullAddress:e||void 0})},[g,h,y,w,t]),(0,a.jsxs)("div",{className:"space-y-3 ".concat(o),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Город"}),(0,a.jsx)(er,{options:d,value:g,onChange:e=>{x(e),e.toLowerCase().includes("москва")||f("")},placeholder:"Начните вводить название города...",disabled:s,error:n?"Ошибка ввода":void 0,size:"sm"===u?1:"md"===u?2:3,allowCustom:!0,maxResults:15,onSearch:e=>{e.length>=2?p((e=>{let l=e.toLowerCase();return en.filter(e=>e.label.toLowerCase().includes(l)||e.region.toLowerCase().includes(l)).slice(0,20)})(e).map(e=>{var l;return{value:e.value,label:e.label,description:"".concat(e.region," • ").concat(null==(l=e.population)?void 0:l.toLocaleString()," чел.")}})):p([])}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Улица"}),(0,a.jsx)(er,{options:b,value:h,onChange:f,placeholder:g.toLowerCase().includes("москва")?"Начните вводить название улицы...":"Введите название улицы",disabled:s||!g,error:n?"Ошибка ввода":void 0,size:"sm"===u?1:"md"===u?2:3,allowCustom:!0,maxResults:15,onSearch:e=>{e.length>=2&&g.toLowerCase().includes("москва")?v((e=>{let l=e.toLowerCase();return eo.filter(e=>e.label.toLowerCase().includes(l)||e.district.toLowerCase().includes(l)).slice(0,20)})(e).map(e=>({value:e.value,label:e.label,description:"".concat(e.district," • ").concat(e.type)}))):v([])}})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Дом"}),(0,a.jsx)(m,{value:y,onChange:e=>j(e.target.value),placeholder:"№ дома",disabled:s,error:n?"Ошибка ввода":void 0,size:"sm"===u?1:"md"===u?2:3})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Квартира"}),(0,a.jsx)(m,{value:w,onChange:e=>N(e.target.value),placeholder:"№ квартиры",disabled:s,error:n?"Ошибка ввода":void 0,size:"sm"===u?1:"md"===u?2:3})]})]}),c&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Полный адрес"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(es.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(m,{value:[g,h,y,w].filter(Boolean).join(", "),placeholder:"Полный адрес будет сформирован автоматически",disabled:!0,size:"sm"===u?1:"md"===u?2:3,className:"pl-10 bg-gray-50"})]})]})]})}},54789:(e,l,t)=>{t.d(l,{AppProvider:()=>n,n:()=>o});var a=t(95155),i=t(12115),r=t(35695);let s=(0,i.createContext)(void 0);function n(e){let{children:l}=e,[t,n]=(0,i.useState)(null),[o,u]=(0,i.useState)(!0),c=(0,r.useRouter)(),d=(0,r.usePathname)(),p=async()=>{try{let e=await fetch("/api/auth/me",{credentials:"include"});if(e.ok){let l=await e.json();l.success&&l.user?(n(l.user),console.log("✅ Пользователь авторизован:",l.user.email)):(n(null),console.log("❌ Пользователь не авторизован"))}else n(null),console.log("❌ Ошибка проверки авторизации:",e.status)}catch(e){console.error("Ошибка проверки авторизации:",e),n(null)}finally{u(!1)}},b=async()=>{try{console.log("\uD83D\uDEAA Выполняется выход из системы..."),await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(e){console.error("Ошибка выхода:",e)}finally{n(null),console.log("✅ Выход выполнен, перенаправление на /login"),window.location.href="/login"}};return(0,i.useEffect)(()=>{p()},[]),(0,i.useEffect)(()=>{!o&&(t&&("/login"===d||"/register"===d)?(console.log("\uD83D\uDD04 Авторизованный пользователь на странице входа, перенаправляем на home"),window.location.href="/home"):t&&"/"===d?(console.log("\uD83D\uDD04 Авторизованный пользователь на главной странице, перенаправляем на home"),window.location.href="/home"):t||"/login"===d||"/register"===d||"/"===d||(console.log("\uD83D\uDEE1️ Попытка доступа к защищенной странице без авторизации"),c.push("/login")))},[t,o,d,c]),(0,a.jsx)(s.Provider,{value:{user:t,isAuthenticated:!!t,loading:o,login:e=>{n(e),u(!1),console.log("✅ Пользователь авторизован:",e.email)},logout:b,checkAuth:p},children:l})}function o(){let e=(0,i.useContext)(s);if(void 0===e)throw Error("useApp must be used within an AppProvider");return e}},57723:(e,l,t)=>{t.d(l,{av:()=>s});let{useI18n:a,useScopedI18n:i,I18nProvider:r}=(0,t(82871).createI18n)({ru:()=>t.e(6691).then(t.bind(t,26691))}),s=()=>i("auth")},59434:(e,l,t)=>{t.d(l,{$g:()=>s,Jd:()=>o,Nx:()=>n,Yq:()=>u,cn:()=>r});var a=t(52596),i=t(39688);function r(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return(0,i.QP)((0,a.$)(l))}function s(e){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,currencyDisplay:"symbol"}).format(e)}function n(e){return new Intl.NumberFormat("ru-RU").format(e)+" ₽"}function o(e){return"".concat(e," м\xb2")}function u(e){return new Date(e).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"})}}}]);