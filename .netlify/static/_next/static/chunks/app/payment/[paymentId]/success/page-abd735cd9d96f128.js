(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3631],{22915:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(72895).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},28883:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(72895).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},30965:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var l=a(95155),t=a(12115),r=a(41665),c=a(22915),i=a(91788),n=a(28883),d=a(28199);function x(e){var s;let{params:a}=e,[x,m]=(0,t.useState)(null),[h,o]=(0,t.useState)(!0);(0,t.useEffect)(()=>{y()},[a.paymentId]);let y=async()=>{try{let e=await fetch("/api/payments/".concat(a.paymentId,"/public")),s=await e.json();s.success&&m(s.data)}catch(e){console.error("Error loading payment:",e)}finally{o(!1)}};return h?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,l.jsx)("p",{className:"mt-4 text-gray-600",children:"Загрузка..."})]})}):(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,l.jsx)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)(r.zk,{className:"p-8 text-center",children:[(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsx)(c.A,{className:"w-20 h-20 text-green-600 mx-auto"})}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Оплата прошла успешно!"}),(0,l.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"Спасибо за оплату. Ваш платеж был обработан и подтвержден."}),x&&(0,l.jsx)("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Номер платежа:"}),(0,l.jsx)("div",{className:"font-medium text-gray-900",children:x.id})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Сумма:"}),(0,l.jsxs)("div",{className:"font-medium text-gray-900",children:[x.amount.toLocaleString()," ₽"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Объект:"}),(0,l.jsx)("div",{className:"font-medium text-gray-900",children:(null==(s=x.property)?void 0:s.title)||"Не указан"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Дата оплаты:"}),(0,l.jsx)("div",{className:"font-medium text-gray-900",children:new Date().toLocaleDateString("ru-RU")})]})]})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,l.jsxs)(r.Pd,{onClick:()=>{alert("Функция скачивания чека будет доступна в ближайшее время")},variant:"outline",className:"flex-1",children:[(0,l.jsx)(i.A,{className:"w-4 h-4 mr-2"}),"Скачать чек"]}),(0,l.jsxs)(r.Pd,{onClick:()=>{alert("Функция отправки чека по email будет доступна в ближайшее время")},variant:"outline",className:"flex-1",children:[(0,l.jsx)(n.A,{className:"w-4 h-4 mr-2"}),"Отправить чек по email"]})]}),(0,l.jsxs)(r.Pd,{onClick:()=>window.close(),className:"w-full",children:[(0,l.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Закрыть"]})]}),(0,l.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Чек будет отправлен на ваш email в течение 5 минут. Если у вас есть вопросы, обратитесь к вашему агенту по недвижимости."})})]})})})}},91788:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(72895).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},92078:(e,s,a)=>{Promise.resolve().then(a.bind(a,30965))}},e=>{e.O(0,[7910,1665,8441,5964,7358],()=>e(e.s=92078)),_N_E=e.O()}]);