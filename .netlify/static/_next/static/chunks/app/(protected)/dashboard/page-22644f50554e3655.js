(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5311],{14186:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(72895).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},22915:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(72895).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},23488:(e,s,t)=>{Promise.resolve().then(t.bind(t,99781))},27414:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(72895).A)("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]])},92138:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(72895).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},99781:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(95155),c=t(12115),l=t(6874),i=t.n(l),r=t(57434),d=t(6740),n=t(33109),m=t(5445),x=t(75525),h=t(33786),o=t(23227),j=t(17580),u=t(81586),N=t(22915),f=t(27414),g=t(14186),p=t(92138),v=t(41665),b=t(54789);let w=[{id:"contracts",title:"Конструктор договоров",description:"Создание профессиональных договоров аренды с автоматическим заполнением данных клиентов и объектов",icon:r.A,color:"blue",href:"/contracts",features:["Автоматическое заполнение","Юридические шаблоны","Экспорт в PDF"],status:"active"},{id:"scoring",title:"Скоринг арендаторов",description:"Оценка надежности потенциальных арендаторов на основе различных критериев и проверок",icon:d.A,color:"green",href:"/scoring",features:["Проверка кредитной истории","Анализ доходов","Оценка рисков"],status:"active"},{id:"multilisting",title:"Мультилистинг",description:"Размещение объектов на всех популярных площадках одновременно для максимального охвата",icon:n.A,color:"purple",href:"/multilisting",features:["Автоматическое размещение","Синхронизация данных","Аналитика просмотров"],status:"active"},{id:"signature",title:"Электронная подпись",description:"Безопасное подписание документов в электронном виде с юридической силой",icon:m.A,color:"orange",href:"/signature",features:["Юридическая сила","Безопасность","Быстрое подписание"],status:"active"},{id:"insurance",title:"Страхование",description:"Комплексное страхование объектов недвижимости и ответственности арендодателей",icon:x.A,color:"red",href:"/insurance",features:["Страхование имущества","Страхование ответственности","Быстрое оформление"],status:"active"},{id:"yandex-rental",title:"M\xb2 x Яндекс.Аренда",description:"Интеграция с Яндекс.Аренда для автоматического размещения объектов и управления бронированиями",icon:h.A,color:"yellow",href:"/yandex-rental",features:["Автоматическая синхронизация","Управление бронированиями","Аналитика"],status:"beta"}];function y(){let e,{user:s,loading:t,isAuthenticated:l}=(0,b.n)(),[d,m]=(0,c.useState)({properties:0,clients:0,deals:0,contracts:0,payments:0,notifications:0,totalRevenue:0,pendingPayments:0}),[x,h]=(0,c.useState)([]),[y,k]=(0,c.useState)(!0);(0,c.useEffect)(()=>{l&&A()},[l]);let A=async()=>{try{k(!0);let e=await fetch("/api/dashboard/stats");if(e.ok){let s=await e.json();m(s.data)}let s=await fetch("/api/dashboard/activity");if(s.ok){let e=await s.json();h(e.data)}}catch(e){console.error("Ошибка загрузки данных dashboard:",e)}finally{k(!1)}};return t||y?(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"})]},s))})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-[#323130]",children:"Панель управления"}),(0,a.jsxs)("p",{className:"mt-1 sm:mt-2 text-sm sm:text-base text-[#605e5c]",children:["Добро пожаловать, ",null==s?void 0:s.firstName," ",null==s?void 0:s.lastName]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(0,a.jsx)(v.zk,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(o.A,{className:"h-8 w-8 text-[#0078d4]"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-[#605e5c]",children:"Объекты"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-[#323130]",children:d.properties})]})]})}),(0,a.jsx)(v.zk,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(j.A,{className:"h-8 w-8 text-[#107c10]"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-[#605e5c]",children:"Клиенты"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-[#323130]",children:d.clients})]})]})}),(0,a.jsx)(v.zk,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(n.A,{className:"h-8 w-8 text-[#5c2d91]"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-[#605e5c]",children:"Сделки"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-[#323130]",children:d.deals})]})]})}),(0,a.jsx)(v.zk,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(f.A,{className:"h-8 w-8 text-[#ca5010]"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-[#605e5c]",children:"Доход"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-[#323130]",children:(e=d.totalRevenue,new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(e))})]})]})})]}),(0,a.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,a.jsx)("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-[#323130] mb-3 sm:mb-4",children:"Быстрые действия"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,a.jsx)(i(),{href:"/properties/new",children:(0,a.jsx)(v.zk,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:(0,a.jsxs)("div",{className:"flex items-center p-4",children:[(0,a.jsx)("div",{className:"bg-[#0078d4] p-3 rounded-lg",children:(0,a.jsx)(o.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-[#323130]",children:"Добавить объект"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Создать новое объявление"})]})]})})}),(0,a.jsx)(i(),{href:"/clients/new",children:(0,a.jsx)(v.zk,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:(0,a.jsxs)("div",{className:"flex items-center p-4",children:[(0,a.jsx)("div",{className:"bg-[#107c10] p-3 rounded-lg",children:(0,a.jsx)(j.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-[#323130]",children:"Добавить клиента"}),(0,a.jsx)("p",{className:"text-[#605e5c]",children:"Новый клиент в базе"})]})]})})}),(0,a.jsx)(i(),{href:"/contracts/new",children:(0,a.jsx)(v.zk,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:(0,a.jsxs)("div",{className:"flex items-center p-4",children:[(0,a.jsx)("div",{className:"bg-[#5c2d91] p-3 rounded-lg",children:(0,a.jsx)(r.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-[#323130]",children:"Создать договор"}),(0,a.jsx)("p",{className:"text-[#605e5c]",children:"Новый договор аренды"})]})]})})})]})]}),(0,a.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,a.jsx)("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-[#323130] mb-3 sm:mb-4",children:"Последняя активность"}),(0,a.jsx)(v.zk,{children:x.length>0?(0,a.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 ".concat((e=>{switch(e){case"success":return"text-[#107c10]";case"warning":return"text-[#ca5010]";case"info":return"text-[#0078d4]";default:return"text-[#605e5c]"}})(e.status)),children:(e=>{switch(e){case"property":return(0,a.jsx)(o.A,{className:"h-5 w-5"});case"client":return(0,a.jsx)(j.A,{className:"h-5 w-5"});case"deal":return(0,a.jsx)(n.A,{className:"h-5 w-5"});case"payment":return(0,a.jsx)(u.A,{className:"h-5 w-5"});case"contract":return(0,a.jsx)(r.A,{className:"h-5 w-5"});default:return(0,a.jsx)(N.A,{className:"h-5 w-5"})}})(e.type)}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-[#323130]",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-[#605e5c]",children:e.description})]}),(0,a.jsx)("div",{className:"text-sm text-[#605e5c]",children:new Date(e.timestamp).toLocaleDateString("ru-RU",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g.A,{className:"h-12 w-12 text-[#605e5c] mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-[#605e5c]",children:"Пока нет активности"})]})})]}),(0,a.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,a.jsx)("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-[#323130] mb-3 sm:mb-4",children:"Сделочные механизмы"}),(0,a.jsx)("p",{className:"text-[#605e5c] mb-4 sm:mb-6",children:"Инструменты для эффективной работы с арендой недвижимости"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:w.map(e=>{let s=e.icon;return(0,a.jsx)(i(),{href:e.href,children:(0,a.jsx)(v.zk,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 ".concat((e=>{switch(e){case"blue":return"bg-[#deecf9] border-[#0078d4] text-[#0078d4]";case"green":return"bg-[#dff6dd] border-[#107c10] text-[#107c10]";case"purple":return"bg-[#f3e5f5] border-[#5c2d91] text-[#5c2d91]";case"orange":return"bg-[#fce4ec] border-[#ca5010] text-[#ca5010]";case"red":return"bg-[#fde7e9] border-[#d13438] text-[#d13438]";case"yellow":return"bg-[#fff4ce] border-[#ca5010] text-[#ca5010]";default:return"bg-[#f3f2f1] border-[#605e5c] text-[#605e5c]"}})(e.color)," rounded-lg flex items-center justify-center"),children:(0,a.jsx)(s,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#323130]",children:e.title}),"beta"===e.status&&(0,a.jsx)(v.a,{variant:"warning",className:"text-xs",children:"Бета"})]})]}),(0,a.jsx)("p",{className:"text-[#605e5c] mb-4 leading-relaxed",children:e.description}),(0,a.jsx)("div",{className:"space-y-2 mb-4",children:e.features.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center text-sm text-[#605e5c]",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 text-[#107c10] mr-2"}),e]},s))}),(0,a.jsxs)("div",{className:"flex items-center text-[#0078d4] text-sm font-medium",children:["Открыть",(0,a.jsx)(p.A,{className:"w-4 h-4 ml-1"})]})]})})},e.id)})})]})]})}}},e=>{e.O(0,[7910,1665,8441,5964,7358],()=>e(e.s=23488)),_N_E=e.O()}]);