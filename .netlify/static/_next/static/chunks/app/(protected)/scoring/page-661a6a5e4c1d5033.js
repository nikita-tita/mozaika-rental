(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8602],{14186:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(72895).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},18533:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(72895).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},22915:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(72895).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},47924:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(72895).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},55670:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(72895).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},56164:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var a=t(95155),l=t(12115),c=t(41665),n=t(55670),r=t(14186),i=t(47924),d=t(22915),m=t(18533),o=t(75525);function x(){var e,s;let[t,x]=(0,l.useState)({firstName:"",lastName:"",middleName:"",passport:"",phone:"",email:""}),[h,p]=(0,l.useState)(!1),[N,j]=(0,l.useState)(null),[g,y]=(0,l.useState)(!1),[u,v]=(0,l.useState)(!1),[b,f]=(0,l.useState)(!1),w=async()=>{p(!0),setTimeout(()=>{j({score:Math.floor(100*Math.random())+1,status:Math.random()>.3?"APPROVED":"REJECTED",details:{creditHistory:Math.random()>.2,courtCases:Math.random()>.8,debts:Math.random()>.7,income:Math.floor(2e5*Math.random())+5e4},recommendations:["Клиент имеет положительную кредитную историю","Нет задолженностей по налогам","Достаточный уровень дохода для аренды"]}),p(!1)},2e3)},k=async()=>{y(!0);try{await new Promise(e=>setTimeout(e,1500));let e=JSON.parse(localStorage.getItem("scoringResults")||"[]"),s={id:Date.now(),date:new Date().toISOString(),tenantData:t,scoringResult:N};e.push(s),localStorage.setItem("scoringResults",JSON.stringify(e)),alert("Результат скоринга успешно сохранен!")}catch(e){console.error("Ошибка при сохранении:",e),alert("Ошибка при сохранении результата")}finally{y(!1)}},A=async()=>{v(!0);try{await new Promise(e=>setTimeout(e,2e3));let e={date:new Date().toISOString(),tenant:"".concat(t.lastName," ").concat(t.firstName," ").concat(t.middleName).trim(),passport:t.passport,phone:t.phone,email:t.email,score:N.score,status:N.status,details:N.details,recommendations:N.recommendations},s="\nОТЧЕТ ПО СКОРИНГУ АРЕНДАТОРА\n\nДата проверки: ".concat(new Date().toLocaleDateString("ru-RU"),"\nАрендатор: ").concat(e.tenant,"\nПаспорт: ").concat(e.passport,"\nТелефон: ").concat(e.phone,"\nEmail: ").concat(e.email,"\n\nРЕЗУЛЬТАТЫ ПРОВЕРКИ:\n- Скоринговый балл: ").concat(e.score,"\n- Статус: ").concat("APPROVED"===e.status?"Одобрен":"Отклонен","\n- Средний доход: ").concat(e.details.income.toLocaleString()," ₽\n\nПРОВЕРКИ:\n- Кредитная история: ").concat(e.details.creditHistory?"Положительная":"Отрицательная","\n- Судебные дела: ").concat(e.details.courtCases?"Есть":"Нет","\n- Задолженности: ").concat(e.details.debts?"Есть":"Нет","\n\nРЕКОМЕНДАЦИИ:\n").concat(e.recommendations.map(e=>"• ".concat(e)).join("\n"),"\n\nОтчет сгенерирован системой М\xb2 для автоматизации документооборота.\n      "),a=new Blob([s],{type:"text/plain;charset=utf-8"}),l=window.URL.createObjectURL(a),c=document.createElement("a");c.href=l,c.download="Скоринг_".concat(t.lastName,"_").concat(t.firstName,"_").concat(new Date().toISOString().split("T")[0],".txt"),document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(l),alert("Отчет успешно отправлен и скачан!")}catch(e){console.error("Ошибка при отправке отчета:",e),alert("Ошибка при отправке отчета")}finally{v(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(n.A,{className:"w-8 h-8 mr-3 text-blue-600"}),"Скоринг арендаторов"]}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Проверка платежеспособности и надежности потенциальных арендаторов через НБКИ и ФССП"})]}),(0,a.jsxs)(c.zk,{className:"p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Поиск арендатора"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[(0,a.jsx)(c.V$,{label:"Имя",value:t.firstName,onChange:e=>x(s=>({...s,firstName:e.target.value})),placeholder:"Введите имя"}),(0,a.jsx)(c.V$,{label:"Фамилия",value:t.lastName,onChange:e=>x(s=>({...s,lastName:e.target.value})),placeholder:"Введите фамилию"}),(0,a.jsx)(c.V$,{label:"Отчество",value:t.middleName,onChange:e=>x(s=>({...s,middleName:e.target.value})),placeholder:"Введите отчество"}),(0,a.jsx)(c.V$,{label:"Паспорт",value:t.passport,onChange:e=>x(s=>({...s,passport:e.target.value})),placeholder:"Серия и номер"}),(0,a.jsx)(c.V$,{label:"Телефон",value:t.phone,onChange:e=>x(s=>({...s,phone:e.target.value})),placeholder:"+7 (999) 123-45-67"}),(0,a.jsx)(c.V$,{label:"Email",value:t.email,onChange:e=>x(s=>({...s,email:e.target.value})),placeholder:"email@example.com"})]}),(0,a.jsx)(c.Pd,{onClick:w,disabled:h,className:"w-full md:w-auto",children:h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Проверка..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{className:"w-4 h-4 mr-2"}),"Проверить арендатора"]})})]}),N&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(c.zk,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Результат проверки"}),(e=N.score)>=80?(0,a.jsx)(c.a,{variant:"success",children:"Отлично"}):e>=60?(0,a.jsx)(c.a,{variant:"warning",children:"Хорошо"}):(0,a.jsx)(c.a,{variant:"error",children:"Плохо"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-4xl font-bold ".concat((s=N.score)>=80?"text-green-600":s>=60?"text-yellow-600":"text-red-600"," mb-2"),children:N.score}),(0,a.jsx)("div",{className:"text-gray-600",children:"Скоринговый балл"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-semibold text-gray-900 mb-2",children:[N.details.income.toLocaleString()," ₽"]}),(0,a.jsx)("div",{className:"text-gray-600",children:"Средний доход"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"APPROVED"===N.status?"Одобрен":"Отклонен"}),(0,a.jsx)("div",{className:"text-gray-600",children:"Рекомендация"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(c.zk,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Проверки"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Кредитная история"}),N.details.creditHistory?(0,a.jsx)(d.A,{className:"w-5 h-5 text-green-600"}):(0,a.jsx)(m.A,{className:"w-5 h-5 text-red-600"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Судебные дела"}),N.details.courtCases?(0,a.jsx)(m.A,{className:"w-5 h-5 text-red-600"}):(0,a.jsx)(d.A,{className:"w-5 h-5 text-green-600"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Задолженности"}),N.details.debts?(0,a.jsx)(m.A,{className:"w-5 h-5 text-red-600"}):(0,a.jsx)(d.A,{className:"w-5 h-5 text-green-600"})]})]})]}),(0,a.jsxs)(c.zk,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Рекомендации"}),(0,a.jsx)("div",{className:"space-y-2",children:N.recommendations.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e})]},s))})]})]}),(0,a.jsxs)(c.zk,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Дальнейшие действия"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)(c.Pd,{variant:"primary",onClick:()=>{let e={propertyTitle:"Объект недвижимости",propertyAddress:"Адрес объекта",landlordName:"Наймодатель",landlordPassport:"Паспорт наймодателя",tenantName:"".concat(t.lastName," ").concat(t.firstName," ").concat(t.middleName).trim(),tenantPassport:t.passport,tenantPhone:t.phone,tenantEmail:t.email,startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+31536e6).toISOString().split("T")[0],monthlyRent:.3*N.details.income,deposit:.3*N.details.income,utilities:!0,additionalTerms:"Скоринговый балл: ".concat(N.score,". Рекомендация: ").concat("APPROVED"===N.status?"Одобрен":"Отклонен")};localStorage.setItem("scoringContractData",JSON.stringify(e)),window.location.href="/contracts"},disabled:"APPROVED"!==N.status,children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Создать договор"]}),(0,a.jsx)(c.Pd,{variant:"outline",onClick:k,disabled:g,children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Сохранение..."]}):"Сохранить результат"}),(0,a.jsx)(c.Pd,{variant:"outline",onClick:A,disabled:u,children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Отправка..."]}):"Отправить отчет"})]}),"APPROVED"!==N.status&&(0,a.jsx)("p",{className:"text-sm text-red-600 mt-2",children:"Договор можно создать только для одобренных арендаторов"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-8",children:[(0,a.jsxs)(c.zk,{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"1,247"}),(0,a.jsx)("div",{className:"text-gray-600",children:"Проверок за месяц"})]}),(0,a.jsxs)(c.zk,{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"99.7%"}),(0,a.jsx)("div",{className:"text-gray-600",children:"Точность проверки"})]}),(0,a.jsxs)(c.zk,{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"2.3с"}),(0,a.jsx)("div",{className:"text-gray-600",children:"Среднее время проверки"})]}),(0,a.jsxs)(c.zk,{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"85%"}),(0,a.jsx)("div",{className:"text-gray-600",children:"Одобренных арендаторов"})]})]})]})})}},98823:(e,s,t)=>{Promise.resolve().then(t.bind(t,56164))}},e=>{e.O(0,[7910,1665,8441,5964,7358],()=>e(e.s=98823)),_N_E=e.O()}]);