# –û—Ç—á–µ—Ç: –£–ª—É—á—à–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–ª–∏–µ–Ω—Ç–æ–≤

## üéØ –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö**

**–ü—Ä–æ–±–ª–µ–º–∞:** –í –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –±—ã–ª–∏ –¥–≤–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞:
- "–í—Å–µ —Ç–∏–ø—ã" 
- "–û–±–∞ —Ç–∏–ø–∞"

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ "–í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã" –¥–ª—è –ø–æ–∫–∞–∑–∞ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã "–ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä—ã", "–ê—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–∏" –∏ "–û–±–∞ —Ç–∏–ø–∞"

### 2. **–ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –±—ã–ª–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–ª–Ω–æ–π —Ñ–æ—Ä–º–æ–π
- ‚úÖ –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –¥–∞–Ω–Ω—ã–º–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- ‚úÖ API –∑–∞–ø—Ä–æ—Å –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 3. **–ù–µ—Ç —Å–≤—è–∑–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –±—ã–ª–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–≤—è–∑–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏.

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–°–≤—è–∑–∞—Ç—å —Å –æ–±—ä–µ–∫—Ç–æ–º" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å PropertySelector
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –ø—Ä—è–º–æ –∏–∑ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
- ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è API —Å–≤—è–∑–∏ –∫–ª–∏–µ–Ω—Ç–∞ —Å –æ–±—ä–µ–∫—Ç–æ–º

## üîß –î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### 1. **–ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –≤ —Ç–∞–±–ª–∏—Ü–µ**
```tsx
<td className="px-6 py-4 whitespace-nowrap text-sm text-[#605e5c]">
  <div className="flex space-x-2">
    <TeamsButton
      size="sm"
      variant="outline"
      onClick={() => handleEditClient(client)}
    >
      –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    </TeamsButton>
    <TeamsButton
      size="sm"
      variant="outline"
      onClick={() => handleLinkProperty(client)}
    >
      –°–≤—è–∑–∞—Ç—å —Å –æ–±—ä–µ–∫—Ç–æ–º
    </TeamsButton>
  </div>
</td>
```

### 2. **–§—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏**
- `handleEditClient()` - –æ—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–æ—Ä–º—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `handleUpdateClient()` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `handleLinkProperty()` - –æ—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ —Å–≤—è–∑–∏ —Å –æ–±—ä–µ–∫—Ç–æ–º

### 3. **–ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞**
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞** - –ø–æ–ª–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º
- **–°–≤—è–∑—å —Å –æ–±—ä–µ–∫—Ç–æ–º** - PropertySelector –¥–ª—è –≤—ã–±–æ—Ä–∞ –æ–±—ä–µ–∫—Ç–∞

## üé® –£–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã:
```tsx
options={[
  { value: 'ALL', label: '–í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã' },        // –ë—ã–ª–æ "–í—Å–µ —Ç–∏–ø—ã"
  { value: 'TENANT', label: '–ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä—ã' },
  { value: 'LANDLORD', label: '–ê—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–∏' },
  { value: 'BOTH', label: '–û–±–∞ —Ç–∏–ø–∞' }
]}
```

### ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ "–î–µ–π—Å—Ç–≤–∏—è":
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- –ö–æ–º–ø–∞–∫—Ç–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ
- –ü–æ–Ω—è—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π

### ‚úÖ –£–ª—É—á—à–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ "–î–µ–π—Å—Ç–≤–∏—è"
- –ö–Ω–æ–ø–∫–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Client:
```tsx
interface Client {
  id: string
  firstName: string
  lastName: string
  middleName?: string
  email?: string
  phone: string
  birthDate?: string
  type: 'TENANT' | 'LANDLORD' | 'BOTH'
  passport?: string
  snils?: string
  inn?: string
  address?: string
  city?: string
  notes?: string
  source?: string
  isActive: boolean
  createdAt: string
  properties?: Array<{           // ‚úÖ –ù–û–í–û–ï
    id: string
    title: string
    address: string
    type: string
  }>
}
```

## üîÑ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- `PUT /api/clients/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
- `POST /api/clients/{id}/properties` - —Å–≤—è–∑—å —Å –æ–±—ä–µ–∫—Ç–æ–º (–≥–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
- Try-catch –±–ª–æ–∫–∏ –¥–ª—è –≤—Å–µ—Ö API –∑–∞–ø—Ä–æ—Å–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª—å
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è API —Å–≤—è–∑–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏:**
```tsx
// –í handleLinkProperty
const response = await fetch(`/api/clients/${clientId}/properties`, {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ propertyId })
})
```

### 2. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤:**
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É "–°–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã" –≤ —Ç–∞–±–ª–∏—Ü—É
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–≤—è–∑–∞—Ç—å –æ–±—ä–µ–∫—Ç

### 3. **–£–ª—É—á—à–µ–Ω–∏–µ UX:**
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ –†–µ—à–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã:
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤** ‚Üí –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ
- **–ù–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** ‚Üí –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ù–µ—Ç —Å–≤—è–∑–∏ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏** ‚Üí –î–æ–±–∞–≤–ª–µ–Ω PropertySelector

### üöÄ –£–ª—É—á—à–µ–Ω–∏—è:
- **–£–¥–æ–±—Å—Ç–≤–æ:** –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** –ü–æ–ª–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **–ì–∏–±–∫–æ—Å—Ç—å:** –°–≤—è–∑—å —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

**–î–∞—Ç–∞:** 5 –∞–≤–≥—É—Å—Ç–∞ 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ 